System.register("chunks:///_virtual/configuration.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var a,s,i,n,e,o;return{setters:[function(t){a=t.defineProperty,s=t.createClass},function(t){i=t.cclegacy,n=t._decorator,e=t.sys,o=t.log}],execute:function(){var r,c,u;i._RF.push({},"05c37maoztIcqYQxP8Afj1j","configuration",void 0);var h=n.ccclass;t("configuration",h("configuration")((u=c=function(){function t(){a(this,"jsonData",null),a(this,"path",null),a(this,"KEY_CONFIG","CarConfig"),a(this,"markSave",!1),a(this,"saveTimer",-1)}var i=t.prototype;return i.start=function(){var t,a=this;(this.jsonData={userId:""},this.path=this.getConfigPath(),e.isNative)?t=jsb.fileUtils.getValueMapFromFile(this.path)[this.KEY_CONFIG]:t=e.localStorage.getItem(this.KEY_CONFIG);if(t&&t.length){t.startsWith("@")&&(t=t.substring(1));try{var s=JSON.parse(t);this.jsonData=s}catch(t){}}this.saveTimer=setInterval((function(){a.scheduleSave()}),500)},i.setConfigDataWithoutSave=function(t,a){var s=this.jsonData.userId;this.jsonData[s]?this.jsonData[s][t]=a:console.error("no account can not save")},i.setConfigData=function(t,a){this.setConfigDataWithoutSave(t,a),this.markSave=!0},i.getConfigData=function(t){var a=this.jsonData.userId;if(this.jsonData[a]){var s=this.jsonData[a][t];return s||""}return o("no account can not load"),""},i.setGlobalData=function(t,a){this.jsonData[t]=a,this.save()},i.getGlobalData=function(t){return this.jsonData[t]},i.setUserId=function(t){this.jsonData.userId=t,this.jsonData[t]||(this.jsonData[t]={}),this.save()},i.getUserId=function(){return this.jsonData.userId},i.scheduleSave=function(){this.markSave&&this.save()},i.markModified=function(){this.markSave=!0},i.save=function(){var t=JSON.stringify(this.jsonData);if(this.markSave=!1,e.isNative){var a={};a[this.KEY_CONFIG]=t,jsb.fileUtils.writeToFile(a,this.path)}else{e.localStorage.setItem(this.KEY_CONFIG,t)}},i.getConfigPath=function(){var t=e.platform,a="";return t===e.OS_WINDOWS?a="src/conf":t===e.OS_LINUX?a="./conf":e.isNative?(a=jsb.fileUtils.getWritablePath(),a+="conf"):a="src/conf",a},i.parseUrl=function(t){if(t&&!("string"==typeof t&&t.length<=0)){var a={};if("string"==typeof t)(t=t.split("?")[1]).split("&").forEach((function(t){var s=t.indexOf("=");if(-1!==s){var i=t.substring(0,s);a[i]=t.substring(s+1)}}));else a=t;a.action&&this.setGlobalData("urlParams",a),a.source&&this.setGlobalData("source",a.source),a.adchannelid&&this.setGlobalData("adchannelid",a.adchannelid)}},t.generateGuestAccount=function(){return""+Date.now()+10},s(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t,this._instance.start()),this._instance}}]),t}(),a(c,"_instance",void 0),r=u))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/carManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./fightConstants.ts","./clientEvent.ts","./resourceUtil.ts","./constant.ts","./poolManager.ts","./car.ts","./follow.ts","./roadPoint.ts","./localConfig.ts","./playerData.ts"],(function(t){"use strict";var n,a,e,i,r,o,s,c,h,l,f,u,C,p,g,m,d,v,M;return{setters:[function(t){n=t.applyDecoratedDescriptor,a=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.Vec3,c=t.macro,h=t.Component},function(t){l=t.fightConstants},function(t){f=t.clientEvent},function(t){u=t.resourceUtil},function(t){C=t.constant},function(t){p=t.poolManager},function(t){g=t.car},function(t){m=t.follow},function(t){d=t.roadPoint},function(t){v=t.localConfig},function(t){M=t.playerData}],execute:function(){var w,y,I,E,_;r._RF.push({},"0ab97H51jJALJr6aO9gzNGg","carManager",void 0);var A=o.ccclass,b=o.property;t("carManager",(w=A("carManager"),y=b({type:m}),w((_=n((E=function(t){function n(){for(var n,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=t.call.apply(t,[this].concat(r))||this,e(i(n),"followCamera",_,i(n)),n}a(n,t);var r=n.prototype;return r.start=function(){},r.onEnable=function(){f.on("showInvincible",this.showInvincible,this)},r.onDisable=function(){f.off("showInvincible",this.showInvincible,this)},r.showInvincible=function(){this.mainCar&&(this.mainCar.isInvincible=!0)},r.init=function(t,n){this._fightMap=t,this._customerManager=n,this.creatMainCar()},r.creatMainCar=function(){var t=this,n=M.instance.showCar?M.instance.showCar:C.INITIAL_CAR,a=v.instance.queryByID("car",n.toString()),e=a?a.model:C.MIN_CAR_ID;u.getCar(e,(function(n,a){if(n)console.error(n);else{t.mainCar&&p.instance.putNode(t.mainCar.node);var e=p.instance.getNode(a,t.node);t.mainCar=e.getComponent("car"),t.mainCar.markMainCar(!0),t.mainCar.setEntry(t._fightMap.path[0]),t.mainCar.manager=t._customerManager,t.mainCar.maxProgress=t._fightMap.levelProgressCnt,t.mainCar.setMoveOverListener((function(){})),t.followCamera.followTarget=e,t.followCamera.showStart()}}))},r.preloadAICar=function(t){for(var n=[],a=1;a<this._fightMap.path.length;a++){var e=this._fightMap.path[a].getComponent(d);if(e.type!==l.ROAD_POINT_TYPE.AI_START)return;for(var i=e.cars.split(","),r=0;r<i.length;r++)-1===n.indexOf(i[r])&&n.push(i[r])}var o=0;u.getCarsBatch(n,(function(t){++o<=15&&f.dispatchEvent("updateLoading",2)}),(function(){o<=15&&f.dispatchEvent("updateLoading",30-2*o),t&&t()}))},r.startGenerateEnemy=function(){this.genAICar=this.genAICar.bind(this);for(var t=1;t<this._fightMap.path.length;t++){this._fightMap.path[t].getComponent(d).startGenerateCar(this.genAICar)}},r.stopGenerateEnemy=function(){for(var t=1;t<this._fightMap.path.length;t++){this._fightMap.path[t].getComponent(d).stopGenerateCar()}},r.genAICar=function(t,n){var a=this;u.getCar(n,(function(n,e){if(n)console.error(n);else{var i=p.instance.getNode(e,a.node).getComponent("car");i.setEntry(t.node),i.minSpeed=t.carSpeed,i.maxSpeed=t.carSpeed,i.startRunning(),i.markMainCar(!1),i.setMoveOverListener((function(t){p.instance.putNode(t.node)}))}}))},r.reset=function(){this.mainCar.setEntry(this._fightMap.path[0]),this.mainCar.maxProgress=this._fightMap.levelProgressCnt,this.followCamera.followTarget=this.mainCar.node,this.stopGenerateEnemy(),this.recycleAllAICar()},r.recycleAllAICar=function(){var t=[];this.node.children.forEach((function(n){t.push(n)}),this),t.forEach((function(t){var n=t.getComponent("car");n&&!n.isMain&&p.instance.putNode(t)}))},r.recycleLimitAICar=function(){var t=this,n=[];this.node.children.forEach((function(t){n.push(t)}),this),n.forEach((function(n){var a=n.getComponent("car"),e=s.distance(n.worldPosition,t.mainCar.node.worldPosition);a&&!a.isMain&&Math.abs(e)<=5?p.instance.putNode(n):(a.isOver=!1,a.startRunning())}))},r.controlMainCar=function(t){t?(f.dispatchEvent("showGuide",!1),this.mainCar.startRunning()):this.mainCar.stopRunning()},r.startGame=function(){f.dispatchEvent("showGuide",!0),this.mainCar.startWithMinSpeed(),this.startGenerateEnemy(),this.schedule(this.checkCarIsCloser,.2,c.REPEAT_FOREVER)},r.gameOver=function(){this.followCamera.followTarget=null,this.stopGenerateEnemy(),this.unschedule(this.checkCarIsCloser),this.node.children.forEach((function(t){t.getComponent(g).stopImmediately()}))},r.changeCameraFollowRotation=function(){this.followCamera.isFollowRotation=!this.followCamera.isFollowRotation},r.getCurrentProgress=function(){return{cur:this.mainCar.curProgress,isOver:!this.mainCar.hasCustomer}},r.revive=function(){this.recycleLimitAICar(),this.mainCar.revive(),this.followCamera.followTarget=this.mainCar.node,this.startGenerateEnemy()},r.checkCarIsCloser=function(){if(this.mainCar.isCarMoving){var t=this.mainCar.node,n=t.getWorldPosition();this.node.children.forEach((function(a){if(a!==t){var e=a.getWorldPosition(),i=a.forward;e.x-=i.x,e.z-=i.z,Math.abs(e.x-n.x)<2&&Math.abs(e.z-n.z)<2&&a.getComponent(g).tooting()}}))}},n}(h)).prototype,"followCamera",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=E))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/eventListener.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,r,s,o;return{setters:[function(t){e=t.defineProperty},function(t){n=t.cclegacy,r=t._decorator,s=t.error,o=t.log}],execute:function(){var i,a;n._RF.push({},"10a09om3sZD8q2H50TLwLIc","eventListener",void 0);var u=r.ccclass,c=(r.property,u("oneToOneListener")(i=function(){function t(){e(this,"supportEvent",{}),e(this,"handle",{}),this.supportEvent=null}var n=t.prototype;return n.on=function(t,e,n){this.handle[t]={handler:e,target:n}},n.off=function(t,e){var n=this.handle[t];n&&n.handler&&n.handler===e&&delete this.handle[t]},n.dispatchEvent=function(t){if(null===this.supportEvent||this.supportEvent.hasOwnProperty(t)){for(var e=this.handle[t],n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);e.handler?e.handler.apply(e.target,n):o("not register "+t+"    callback func")}else s("please add the event into clientEvent.js")},n.setSupportEventList=function(t){if(!(t instanceof Array))return s("supportEvent was not array"),!1;for(var e in this.supportEvent={},t){var n=t[e];this.supportEvent[n]=e}return!0},t}())||i);t("eventListener",u("eventListener")(a=function(){function t(){}return t.getBaseClass=function(t){return c},t}())||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/oneToMultiListener.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var t,e,n,o;return{setters:[function(r){t=r.defineProperty},function(r){e=r.cclegacy,n=r._decorator,o=r.error}],execute:function(){var i,a,s;e._RF.push({},"10a25g6TDNP2IICdF4Htopx","oneToMultiListener",void 0);var u=n.ccclass;r("oneToMultiListener",u("oneToMultiListener")((s=a=function(){function r(){}return r.on=function(r,t,e){var n={handler:t,target:e},o=this.handlers[r];o||(o=[],this.handlers[r]=o);for(var i=0;i<o.length;i++)if(!o[i])return o[i]=n,i;return o.push(n),o.length},r.off=function(r,t,e){var n=this.handlers[r];if(n)for(var o=0;o<n.length;o++){var i=n[o];if(i.handler===t&&(!e||e===i.target)){n.splice(o,1);break}}},r.dispatchEvent=function(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var o,i=this.handlers[r];for(o=1;o<arguments.length;o++);if(i)for(o=0;o<i.length;o++){var a=i[o];a.handler&&a.handler.apply(a.target,e)}},r.setSupportEventList=function(r){if(!(r instanceof Array))return o("supportEvent was not array"),!1;for(var t in this.supportEvent={},r){var e=r[t];this.supportEvent[e]=t}return!0},r}(),t(a,"handlers",void 0),t(a,"supportEvent",void 0),i=s))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/shop.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./resourceUtil.ts","./constant.ts","./poolManager.ts","./util.ts","./localConfig.ts","./playerData.ts","./uiManager.ts","./shopPage.ts","./gameLogic.ts","./LanguageData.ts"],(function(e){"use strict";var t,n,r,i,a,o,s,c,u,l,h,p,f,g,d,C,b,I,P,m,y,B,D,G,_,w,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.defineProperty},function(e){o=e.cclegacy,s=e._decorator,c=e.Label,u=e.Node,l=e.Prefab,h=e.Sprite,p=e.instantiate,f=e.Vec3,g=e.Button,d=e.Color,C=e.Component},function(e){b=e.clientEvent},function(e){I=e.resourceUtil},function(e){P=e.constant},function(e){m=e.poolManager},function(e){y=e.util},function(e){B=e.localConfig},function(e){D=e.playerData},function(e){G=e.uiManager},function(e){_=e.shopPage},function(e){w=e.gameLogic},function(e){E=e.i18n}],execute:function(){var R,v,S,T,A,Y,U,k,L,x,N,O,z,H,M,F,V,W,q,j,K,X,J,Q,Z,$,ee,te,ne;o._RF.push({},"15effXNtKpGeLctODlTRqhl","shop",void 0);var re=s.ccclass,ie=s.property;e("shop",(R=re("shop"),v=ie(c),S=ie(u),T=ie(u),A=ie(u),Y=ie(u),U=ie(c),k=ie(c),L=ie(c),x=ie(u),N=ie(u),O=ie(l),z=ie(h),H=ie(c),R((V=t((F=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,r(i(t),"lbGold",V,i(t)),r(i(t),"nodeGet",W,i(t)),r(i(t),"nodeGold",q,i(t)),r(i(t),"nodeBuy",j,i(t)),r(i(t),"nodeGo",K,i(t)),r(i(t),"lbDesc",X,i(t)),r(i(t),"lbPrice",J,i(t)),r(i(t),"lbGo",Q,i(t)),r(i(t),"nodeCarParent",Z,i(t)),r(i(t),"nodePages",$,i(t)),r(i(t),"pfPage",ee,i(t)),r(i(t),"spCarBlack",te,i(t)),r(i(t),"lbPage",ne,i(t)),a(i(t),"currentPage",null),a(i(t),"currentCar",null),a(i(t),"carDegree",0),a(i(t),"rotateSpeed",30),a(i(t),"currentCarInfo",void 0),a(i(t),"pageIndex",0),a(i(t),"maxPage",0),a(i(t),"currentCarID",0),t}n(t,e);var o=t.prototype;return o.start=function(){},o.onEnable=function(){b.on("updateGold",this.updateGold,this),b.on("onShopItemSelect",this.onShopItemSelect,this),b.on("updateBuyTask",this.updateButtons,this)},o.onDisable=function(){b.off("updateGold",this.updateGold,this),b.off("onShopItemSelect",this.onShopItemSelect,this),b.off("updateBuyTask",this.updateButtons,this)},o.show=function(){var e=B.instance.getCars();this.maxPage=Math.floor(e.length/9),this.updateGold(),this.showPage()},o.showPage=function(){this.currentPage||(this.currentPage=p(this.pfPage),this.currentPage.parent=this.nodePages,this.pageIndex=0,this.refreshPageLabel(),this.currentPage.getComponent(_).setPage(this.pageIndex)),this.currentPage.getComponent(_).show()},o.updateGold=function(){var e=D.instance.playerInfo.gold||0;this.lbGold.string=y.formatMoney(e)},o.onBtnCloseClick=function(){G.instance.hideDialog("shop/shop")},o.getCar=function(){var e=this;w.buyCar(this.currentCarInfo.ID);var t={rewardType:P.REWARD_TYPE.CAR,amount:1,ID:this.currentCarInfo.ID};G.instance.showDialog("common/showReward",[t,!1,"购买成功",function(){w.useCar(e.currentCarInfo.ID),e.currentPage.getComponent(_).refreshUse(e.currentCarInfo.ID)},null,"确认"])},o.onBtnGetClick=function(){var e=this.currentCarInfo.ID;if(D.instance.hasCar(e))D.instance.useCar(e),b.dispatchEvent("updateCar");else if(this.currentCarInfo.type===P.BUY_CAR_TYPE.GOLD){if(this.currentCarInfo.num>D.instance.playerInfo.gold)return void G.instance.showTips("获取金币",(function(){}));w.addGold(-this.currentCarInfo.num),this.getCar()}else{if(D.instance.getBuyTypeProgress(this.currentCarInfo.type)>=this.currentCarInfo.num)this.getCar();else switch(this.currentCarInfo.type){case P.BUY_CAR_TYPE.GAME:case P.BUY_CAR_TYPE.LOGIN:case P.BUY_CAR_TYPE.CONTINUOUS_LOGIN:case P.BUY_CAR_TYPE.PASS_LEVEL:this.onBtnCloseClick();break;case P.BUY_CAR_TYPE.SIGNIN:this.onBtnCloseClick(),G.instance.showDialog("signIn/signIn");break;case P.BUY_CAR_TYPE.SHARE:w.openReward(P.SHARE_FUNCTION.SHOP_SHARE,(function(e,t){}));break;case P.BUY_CAR_TYPE.VIDEO:w.openReward(P.SHARE_FUNCTION.SHOP_VIDEO,(function(e,t){}))}}},o.checkBtn=function(){},o.onBtnGoldClick=function(){var e=this;w.openReward(P.SHARE_FUNCTION.SHOP_VIDEO,(function(t){t||w.showFlyReward(P.REWARD_TYPE.GOLD,(function(){w.addGold(300),e.updateButtons()}))}))},o.onShopItemSelect=function(e,t){var n=this,r=this.currentPage.getComponent(_);r.unSelectAll(),t&&r.unUseAll(),this.currentCar&&(m.instance.putNode(this.currentCar),this.currentCar=null),this.currentCarInfo=B.instance.queryByID("car",e.toString()),this.currentCarInfo.type===P.BUY_CAR_TYPE.SHARE&&(this.currentCarInfo.type=P.BUY_CAR_TYPE.GOLD,this.currentCarInfo.num=2e3),D.instance.hasCar(e)?(this.spCarBlack.node.active=!1,I.getUICar(this.currentCarInfo.model,(function(e,t){e?console.error(e,n.currentCarInfo.model):(n.carDegree=0,n.currentCar=m.instance.getNode(t,n.nodeCarParent))}))):(this.spCarBlack.node.active=!0,I.setCarIcon(this.currentCarInfo.model,this.spCarBlack,!0,(function(){}))),this.updateButtons()},o.update=function(e){this.currentCar&&(this.carDegree-=e*this.rotateSpeed,this.carDegree<=-360&&(this.carDegree+=360),this.currentCar.eulerAngles=new f(0,this.carDegree,0))},o.updateButtons=function(){if(D.instance.hasCar(this.currentCarInfo.ID))this.lbDesc.string="",this.nodeGo.active=!0,this.nodeBuy.active=!1,this.lbGo.string="换车",this.nodeGet.getComponent(g).interactable=!0;else if(this.currentCarInfo.type===P.BUY_CAR_TYPE.GOLD)this.lbDesc.string="",this.lbPrice.string=this.currentCarInfo.num,D.instance.playerInfo.gold>=this.currentCarInfo.num?(this.lbPrice.color=d.WHITE,this.nodeGet.getComponent(g).interactable=!0):(this.lbPrice.color=d.RED,this.nodeGet.getComponent(g).interactable=!0),this.nodeGo.active=!1,this.nodeBuy.active=!0;else{this.nodeGet.getComponent(g).interactable=!0,this.nodeGo.active=!0,this.nodeBuy.active=!1;var e=D.instance.getBuyTypeProgress(this.currentCarInfo.type);e<this.currentCarInfo.num?this.lbGo.string="前往商店":this.lbGo.string="获取";var t=E.t("carTask."+this.currentCarInfo.show);this.currentCarInfo.type!==P.BUY_CAR_TYPE.SIGNIN&&(t+="("+E.t("shop.current")+"："+e+"/"+this.currentCarInfo.num+")"),this.lbDesc.string=t}},o.refreshPageLabel=function(){this.lbPage.string=this.pageIndex+1+"/"+(this.maxPage+1)},o.onBtnLeftClick=function(){var e=this.currentPage.getComponent(_);this.pageIndex>0?this.pageIndex--:this.pageIndex=this.maxPage,this.refreshPageLabel(),e.setPage(this.pageIndex),e.show()},o.onBtnRightClick=function(){var e=this.currentPage.getComponent(_);this.pageIndex>=this.maxPage?this.pageIndex=0:this.pageIndex++,this.refreshPageLabel(),e.setPage(this.pageIndex),e.show()},t}(C)).prototype,"lbGold",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(F.prototype,"nodeGet",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(F.prototype,"nodeGold",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(F.prototype,"nodeBuy",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(F.prototype,"nodeGo",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(F.prototype,"lbDesc",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(F.prototype,"lbPrice",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(F.prototype,"lbGo",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(F.prototype,"nodeCarParent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(F.prototype,"nodePages",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(F.prototype,"pfPage",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(F.prototype,"spCarBlack",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(F.prototype,"lbPage",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=F))||M));o._RF.pop()}}}));

System.register("chunks:///_virtual/constant.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(E){"use strict";var I,N;return{setters:[function(E){I=E.defineProperty},function(E){N=E.cclegacy}],execute:function(){N._RF.push({},"1ad87mpTDFDV7de0xMwTCq4","constant",void 0);var _=E("constant",(function(){}));I(_,"GAME_NAME","car"),I(_,"LOCAL_CACHE",{PLAYER:"player",SETTINGS:"settings",DATA_VERSION:"dataVersion",ACCOUNT:"account",HISTORY:"history",BAG:"bag"}),I(_,"MAX_LEVEL",20),I(_,"MIN_CAR_ID",101),I(_,"MAX_CAR_ID",109),I(_,"AUDIO_SOUND",{BACKGROUND:"background",CRASH:"crash",GET_MONEY:"getMoney",IN_CAR:"inCar",NEW_ORDER:"newOrder",CAR_START:"carStart",WIN:"win",STOP:"stop",TOOTING1:"tooting1",TOOTING2:"tooting2"}),I(_,"SIGNIN_REWARD_STATUS",{RECEIVED:0,RECEIVABLE:1,UNRECEIVABLE:2,FILL_SIGNIN:3,AFTER_FILL_SIGNIN:4}),I(_,"MAX_SIGNIN_DAY",7),I(_,"NORMAL_SHOW_TIME",3),I(_,"NEWBEE_LEVEL",2),I(_,"REWARD_TYPE",{DIAMOND:1,GOLD:2,CAR:3}),I(_,"ONLINE",{MAX_TIME:60,PROFIT_PER_SECOND:.3,TIME_PER_CIRCLE:10}),I(_,"SHARE_FUNCTION",{BALANCE:"balance",RELIVE:"relive",OFFLINE:"offline",RANK:"rank",LOTTERY:"lottery",LOTTERY_REWARD:"lotteryReward",TRIAL:"trial",CLICK_BOX:"clickBox",ONLINE:"online",SIGNIN:"signIn",FILL_SIGNIN:"fillSignIn",INVINCIBLE:"invincible",SHOP_SHARE:"shopShare",SHOP_VIDEO:"shopVideo"}),I(_,"INITIAL_CAR",1),I(_,"BUY_CAR_TYPE",{GOLD:1,LOGIN:2,CONTINUOUS_LOGIN:3,SHARE:4,VIDEO:5,GAME:6,INVITE:7,SIGNIN:8,PASS_LEVEL:9}),I(_,"OPEN_REWARD_TYPE",{AD:0,SHARE:1,NULL:2}),I(_,"GOLD_REWARD",{SECOND:500,SEVENT:500}),I(_,"LOTTERY",{MONEY:2e3,EXCHANGE:500}),I(_,"CUSTOMER_MAX_CNT",2),I(_,"MENU_INIT_BOTTOM",40),I(_,"MENU_BOTTOM",250),N._RF.pop()}}}));

System.register("chunks:///_virtual/polyglot.min.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,r;return{setters:[function(n){t=n.defineProperty},function(n){r=n.cclegacy}],execute:function(){n("polyglot",(function(n){return new y(n)})),r._RF.push({},"26839JcVWpGabE9xA7/uWJw","polyglot.min",void 0);var e=function(n,t,r){if(n=arguments[0],t="function"==typeof arguments[1]?arguments[1]:new Function,Array.isArray(n))n.forEach((function(n,r,e){t(n,r)}));else for(var e in n)if(n.hasOwnProperty(e)){var i=n[e];t(i,e)}},i=function(n,t){return n.hasOwnProperty(t)};var s=function(n){!function(n){console.warn(n)}(n)},o=String.prototype.replace,u=String.prototype.split,a="||||",l=function(n){var t=n%100,r=t%10;return 11!==t&&1===r?0:2<=r&&r<=4&&!(t>=12&&t<=14)?1:2},c={pluralTypes:{arabic:function(n){if(n<3)return n;var t=n%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:l,chinese:function(){return 0},croatian:l,french:function(n){return n>1?1:0},german:function(n){return 1!==n?1:0},russian:l,lithuanian:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=9&&(n%100<11||n%100>19)?1:2},czech:function(n){return 1===n?0:n>=2&&n<=4?1:2},polish:function(n){if(1===n)return 0;var t=n%10;return 2<=t&&t<=4&&(n%100<10||n%100>=20)?1:2},icelandic:function(n){return n%10!=1||n%100==11?1:0},slovenian:function(n){var t=n%100;return 1===t?0:2===t?1:3===t||4===t?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function f(n,t){var r=function(n){var t={};return e(n,(function(n,r){e(n,(function(n){t[n]=r}),this)}),this),t}(n.pluralTypeToLanguages);return r[t]||r[u.call(t,/-/,1)[0]]||r.en}function h(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var p=/%\{(.*?)\}/g;function g(n,t,r,e,s){if("string"!=typeof n)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return n;var l=n,h=e||p,g=s||c,y="number"==typeof t?{smart_count:t}:t;if(null!=y.smart_count&&l){var v=u.call(l,a);l=(v[function(n,t,r){return n.pluralTypes[f(n,t)](r)}(g,r||"en",y.smart_count)]||v[0]).replace(/^\s+|\s+$/gm,"")}return l=o.call(l,h,(function(n,t){return i(y,t)&&null!=y[t]?y[t]:n}))}var y=n("Polyglot",function(){function n(n){t(this,"phrases",{}),t(this,"pluralRules",{}),t(this,"currentLocale",""),t(this,"onMissingKey",null),t(this,"warn",null),t(this,"tokenRegex",void 0);var r=n||{};this.extend(r.phrases||{}),this.currentLocale=r.locale||"en";var e=r.allowMissing?g:null;this.onMissingKey="function"==typeof r.onMissingKey?r.onMissingKey:e,this.warn=r.warn||s,this.tokenRegex=function(n){var t=n&&n.prefix||"%{",r=n&&n.suffix||"}";if(t===a||r===a)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(h(t)+"(.*?)"+h(r),"g")}(r.interpolation),this.pluralRules=r.pluralRules||c}n.transformPhrase=function(n,t,r){return g(n,t,r)};var r=n.prototype;return r.has=function(n){return i(this.phrases,n)},r.t=function(n,t){var r,e,i=null==t?{}:t;if("string"==typeof this.phrases[n])r=this.phrases[n];else if("string"==typeof i._)r=i._;else if(this.onMissingKey){e=(0,this.onMissingKey)(n,i,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+n+'"'),e=n;return"string"==typeof r&&(e=g(r,i,this.currentLocale,this.tokenRegex,this.pluralRules)),e},r.replace=function(n){this.clear(),this.extend(n)},r.clear=function(){this.phrases={}},r.locale=function(n){return n&&(this.currentLocale=n),this.currentLocale},r.extend=function(n,t){var r=this;e(n,(function(n,e){var i=t?t+"."+e:e;"object"==typeof n?r.extend(n,i):r.phrases[i]=n}),this)},r.unset=function(n,t){"string"==typeof n?delete this.phrases[n]:e(n,(function(n,r){var e=t?t+"."+r:r;"object"==typeof n?this.unset(n,e):delete this.phrases[e]}),this)},n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/fightMap.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./fightConstants.ts","./clientEvent.ts","./resourceUtil.ts","./poolManager.ts","./roadPoint.ts","./LanguageData.ts"],(function(e){"use strict";var t,r,i,n,s,o,a,l,c,h,p,d,u,g,f,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.defineProperty},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,c=e.Vec3,h=e.Component},function(e){p=e.fightConstants},function(e){d=e.clientEvent},function(e){u=e.resourceUtil},function(e){g=e.poolManager},function(e){f=e.roadPoint},function(e){v=e.i18n}],execute:function(){var M,P,y,m,b;o._RF.push({},"273adkVLRhECoDje+nCdBuE","fightMap",void 0);var L=a.ccclass,_=a.property;e("fightMap",(M=L("fightMap"),P=_({type:l,displayName:"各路线起点"}),M((b=t((m=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(n(t),"path",b,n(t)),s(n(t),"_progressListener",void 0),s(n(t),"_completeListener",void 0),s(n(t),"curProgress",0),s(n(t),"maxProgress",0),s(n(t),"levelProgressCnt",0),t}r(t,e);var o=t.prototype;return o.buildMap=function(e,t,r){this._progressListener=t,this._completeListener=r,this.objMap=e,this.curProgress=0,this.maxProgress=6,this.buildModel("plane"),this.buildModel("road"),this.buildModel("tree"),this.buildModel("house"),this.buildModel("sign"),this.buildPath()},o.buildModel=function(e){var t=this;if(this.objMap.hasOwnProperty(e)){for(var r=[],i=this.objMap[e],n=0;n<i.children.length;n++){var s=i.children[n].name;-1===r.indexOf(s)&&r.push(s)}var o={};u.getMapObjs(e,r,(function(){}),(function(r,n){if(r)console.error(r);else{for(var s=0;s<n.length;s++){var a=n[s];o[a.data.name]=a}var h=new l(e);h.parent=t.node,h.setPosition(new c(i.pX,i.pY,i.pZ));for(var p=0;p<i.children.length;p++){var d=i.children[p],u=o[d.name],f=g.instance.getNode(u,h);f.setPosition(d.pX,d.pY,d.pZ),f.eulerAngles=new c(d.rX,d.rY,d.rZ),f.setScale(d.sX,d.sY,d.sZ)}t.triggerFinished(e)}}))}else this.triggerFinished(e)},o.buildPath=function(){if(this.objMap.hasOwnProperty("path")){this.path=[],this.levelProgressCnt=0;var e=this.objMap.path,t=new l("path");t.parent=this.node,t.setPosition(e.pX,e.pY,e.pZ);for(var r=0;r<e.children.length;r++){var i=e.children[r],n=new l(i.name);n.parent=t,n.setPosition(i.pX,i.pY,i.pZ);var s=this.createRoadPoint(i.path,n);s&&this.path.push(s)}this.triggerFinished("path")}},o.createRoadPoint=function(e,t){if(!e)return null;var r=new l(e.name);r.parent=t,r.setPosition(e.pX,e.pY,e.pZ),r.setScale(e.sX,e.sY,e.sZ),r.eulerAngles=new c(e.rX,e.rY,e.rZ);var i=r.addComponent(f);return i.type=e.type,i.moveType=e.moveType,i.clockwise=e.clockwise,i.direction=e.direction,i.delayTime=e.delayTime,i.genInterval=e.genInterval,i.carSpeed=e.carSpeed,i.cars=e.cars,i.type===p.ROAD_POINT_TYPE.PLATFORM&&this.levelProgressCnt++,e.next&&(i.next=this.createRoadPoint(e.next,t)),r},o.triggerFinished=function(e){console.log("build "+e+" finished!");var t="";switch(e){case"plane":t=v.t("fightMap.trimTheGround");break;case"road":t=v.t("fightMap.pavingTheRoad");break;case"tree":t=v.t("fightMap.plantingTree");break;case"house":t=v.t("fightMap.decorateHouse");break;case"sign":t=v.t("fightMap.paintLandmarks")}t&&d.dispatchEvent("updateLoading",10,t),this.curProgress++,this._progressListener&&this._progressListener(this.curProgress,this.maxProgress),this.curProgress>=this.maxProgress&&this._completeListener&&this._completeListener()},o.recycle=function(){console.log("recycle map elements..."),this.recycleModel("plane"),this.recycleModel("road"),this.recycleModel("tree"),this.recycleModel("house"),this.recycleModel("sign"),this.node.removeAllChildren()},o.recycleModel=function(e){var t=this.node.getChildByName(e);if(t)for(var r=0;r<t.children.length;r++){var i=t.children[r];g.instance.putNode(i)}},t}(h)).prototype,"path",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=m))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedSprite.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./SpriteFrameSet.ts"],(function(e){"use strict";var t,i,r,n,a,s,o,p,c,u,l;return{setters:[function(e){t=e.defineProperty,i=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.assertThisInitialized,a=e.initializerDefineProperty},function(e){s=e.cclegacy,o=e._decorator,p=e.Sprite,c=e.error,u=e.Component},function(e){l=e.default}],execute:function(){var d,f,h,m,S,g,F;s._RF.push({},"28bd9xEMv1GKLbTuAi4B4dI","LocalizedSprite",void 0);var y=o.ccclass,v=o.property;e("default",(d=y("LocalizedSprite"),f=v({type:[l],displayOrder:1}),d((F=g=function(e){function i(){for(var i,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return i=e.call.apply(e,[this].concat(s))||this,t(n(i),"sprite",null),a(n(i),"spriteFrameSet",S,n(i)),i}r(i,e);var s=i.prototype;return s.onLoad=function(){this.fetchRender()},s.fetchRender=function(){var e=this.getComponent(p);if(e)return this.sprite=e,void this.updateSprite(window.i18nConfig.curLang)},s.getSpriteFrameByLang=function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},s.updateSprite=function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),t&&(this.sprite.spriteFrame=t)}else c("Failed to update localized sprite, sprite component is invalid!")},i}(u),t(g,"editor",{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"}),S=i((m=F).prototype,"spriteFrameSet",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=m))||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/shopItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./resourceUtil.ts","./poolManager.ts","./playerData.ts"],(function(e){"use strict";var t,n,i,r,o,s,a,c,u,l,h,f,p,d,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.defineProperty,s=e.createClass},function(e){a=e.cclegacy,c=e._decorator,u=e.Node,l=e.Sprite,h=e.Component},function(e){f=e.clientEvent},function(e){p=e.resourceUtil},function(e){d=e.poolManager},function(e){I=e.playerData}],execute:function(){var y,C,v,b,D,m,g,k,S,T,B;a._RF.push({},"2b1f3615PZNnqYSDTVo5tI8","shopItem",void 0);var U=c.ccclass,w=c.property;e("shopItem",(y=U("shopItem"),C=w(u),v=w(u),b=w(u),D=w(l),y((k=t((g=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,i(r(t),"nodeSelect",k,r(t)),i(r(t),"nodeUsed",S,r(t)),i(r(t),"nodeRedDot",T,r(t)),i(r(t),"spCarIcon",B,r(t)),o(r(t),"currentCar",null),o(r(t),"carInfo",{ID:0,type:0,num:0,model:""}),t}n(t,e);var a=t.prototype;return a.start=function(){},a.onEnable=function(){f.on("buyCar",this.refreshCarIcon,this),f.on("updateBuyTask",this.updateBuyTask,this)},a.onDisable=function(){f.off("buyCar",this.refreshCarIcon,this),f.off("updateBuyTask",this.updateBuyTask,this)},a.refreshCarIcon=function(){this.carInfo&&(p.setCarIcon(this.carInfo.model,this.spCarIcon,!I.instance.hasCar(this.carInfo.ID),(function(){})),this.updateBuyTask())},a.updateBuyTask=function(){if(I.instance.hasCar(this.carInfo.ID))this.nodeRedDot.active=!1;else{var e=I.instance.getBuyTypeProgress(this.carInfo.type);this.nodeRedDot.active=e>=this.carInfo.num}},a.show=function(e){var t=this;this.carInfo=e,this.select=!1,this.nodeUsed.active=!1,this.currentCar&&(d.instance.putNode(this.currentCar),this.currentCar=null),e?(this.spCarIcon.node.active=!0,this.refreshCarIcon(),this.carInfo.ID===I.instance.getCurrentCar()&&this.scheduleOnce((function(){t.onItemClick(!1)}),0)):this.spCarIcon.node.active=!1},a.onItemClick=function(e){if(this.carInfo){var t=I.instance.hasCar(this.carInfo.ID);f.dispatchEvent("onShopItemSelect",this.carInfo.ID,t),this.select=!0,t&&(this.used=!0)}},a.updateUseState=function(){this.used=this.carInfo.ID===I.instance.getCurrentCar()},s(t,[{key:"select",get:function(){return this.nodeSelect.active},set:function(e){this.nodeSelect.active=e}},{key:"used",get:function(){return this.nodeUsed.active},set:function(e){this.nodeUsed.active=e}}]),t}(h)).prototype,"nodeSelect",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(g.prototype,"nodeUsed",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(g.prototype,"nodeRedDot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(g.prototype,"spCarIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/online.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./constant.ts","./util.ts","./playerData.ts","./uiManager.ts","./gameLogic.ts"],(function(e){"use strict";var t,i,n,r,o,s,l,a,c,u,f,h,p,g,m,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.defineProperty},function(e){s=e.cclegacy,l=e._decorator,a=e.Sprite,c=e.Label,u=e.Component},function(e){f=e.clientEvent},function(e){h=e.constant},function(e){p=e.util},function(e){g=e.playerData},function(e){m=e.uiManager},function(e){d=e.gameLogic}],execute:function(){var T,E,v,y,I,L,P,R,b;s._RF.push({},"349acC5lWBNyZL7loxYm/uD","online",void 0);var O=l.ccclass,M=l.property;e("online",(T=O("online"),E=M(a),v=M(a),y=M(c),T((P=t((L=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return t=e.call.apply(e,[this].concat(s))||this,n(r(t),"spTimeProgress",P,r(t)),n(r(t),"perTimeProgress",R,r(t)),n(r(t),"lbGold",b,r(t)),o(r(t),"currentTime",0),o(r(t),"isOverflow",!1),o(r(t),"currentGold",0),t}i(t,e);var s=t.prototype;return s.start=function(){},s.onEnable=function(){this.refresh()},s.refresh=function(){this.currentTime=0,this.perTimeProgress.fillRange=0;var e=g.instance.getLastOnlineRewardTime(),t=Math.floor((g.instance.getCurrentTime()-e)/1e3);t=(t=t>0?t:0)<h.ONLINE.MAX_TIME?t:h.ONLINE.MAX_TIME,this.isOverflow=t===h.ONLINE.MAX_TIME,this.currentGold=Math.floor(t*h.ONLINE.PROFIT_PER_SECOND),this.lbGold.string=p.formatMoney(this.currentGold);var i=t/h.ONLINE.MAX_TIME;i=i>1?1:i,this.spTimeProgress.fillRange=i},s.clear=function(){this.currentGold=0,this.lbGold.string="0",this.spTimeProgress.fillRange=0,g.instance.updateLastOnlineRewardTime(this.currentTime),this.isOverflow=!1},s.onBtnOnlineClick=function(){var e=this;this.currentGold<=0||(this.spTimeProgress.fillRange>=.5?m.instance.showDialog("main/onlineDouble",[this.currentGold,function(){e.clear()}]):(g.instance.updatePlayerInfo("gold",this.currentGold),d.showFlyReward(h.REWARD_TYPE.GOLD,(function(){f.dispatchEvent("updateGold")})),this.clear()))},s.update=function(e){if(!this.isOverflow)if(this.currentTime+=e,this.currentTime>h.ONLINE.TIME_PER_CIRCLE)this.refresh();else{var t=this.currentTime/h.ONLINE.TIME_PER_CIRCLE;this.perTimeProgress.fillRange=t}},t}(u)).prototype,"spTimeProgress",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(L.prototype,"perTimeProgress",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(L.prototype,"lbGold",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=L))||I));s._RF.pop()}}}));

System.register("chunks:///_virtual/shopPage.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./localConfig.ts","./shopItem.ts"],(function(e){"use strict";var t,n,o,i,r,c,s,a,l,p,h,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.defineProperty},function(e){c=e.cclegacy,s=e._decorator,a=e.Prefab,l=e.instantiate,p=e.Component},function(e){h=e.localConfig},function(e){u=e.shopItem}],execute:function(){var f,g,d,m,y;c._RF.push({},"35980PVGZdO6o5scEE8kciy","shopPage",void 0);var v=s.ccclass,P=s.property;e("shopPage",(f=v("shopPage"),g=P(a),f((y=t((m=function(e){function t(){for(var t,n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return t=e.call.apply(e,[this].concat(c))||this,o(i(t),"pfShopItem",y,i(t)),r(i(t),"page",0),t}n(t,e);var c=t.prototype;return c.start=function(){},c.setPage=function(e){this.page=e},c.show=function(){for(var e=h.instance.getCars(),t=9*this.page,n=9*(this.page+1),o=0,i=t;i<n;i++,o++){var r=null;o<this.node.children.length?r=this.node.children[o]:(r=l(this.pfShopItem)).parent=this.node,r.getComponent(u).show(e[i])}},c.unSelectAll=function(){this.node.children.forEach((function(e){e.getComponent(u).select=!1}))},c.unUseAll=function(){this.node.children.forEach((function(e){e.getComponent(u).used=!1}))},c.refreshUse=function(e){this.node.children.forEach((function(t){var n=t.getComponent(u);n.carInfo.ID===e&&n.onItemClick()}))},t}(p)).prototype,"pfShopItem",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));c._RF.pop()}}}));

System.register("chunks:///_virtual/zh.ts",["cc"],(function(){"use strict";var e;return{setters:[function(i){e=i.cclegacy}],execute:function(){e._RF.push({},"3c2acsRBE9KO4h4sGTiBlRL","zh",void 0),window.i18nConfig||(window.i18nConfig={}),window.i18nConfig.languages||(window.i18nConfig.languages={}),window.i18nConfig.languages.zh={main:{dataLoading:"数据加载中...",dataLoadOver:"数据加载完成...",loginSuccess:"登录成功...",gameResourceLoading:"游戏资源加载中...",audioResourceLoading:"音效资源加载中...",mappingResourceLoading:"贴图资源加载中...",modelResourceLoading:"模型资源加载中...",entering:"正在进入..."},mainUI:{start:"点击屏幕开始",changeCar:"换车"},shop:{btnClose:"关闭",go:"前往",acquired:"已获得",current:"当前",receive:"领取",getGold:"看广告可获取金币"},balance:{"你完成了%{value}个订单":"你完成了%{value}个订单",youEarnedIt:"你赚到了",clickReceive:"点击领取",receiveImmediately:"立即领取"},carTask:{"初始车辆":"初始车辆","分享获得":"分享获得","签到获得":"签到获得","通过关卡获得":"通过关卡获得"},signin:{title:"七日登录",notYet:"暂不领取",normalReceive:"普通领取",receive:"领取",doubleReceive:"双倍领取",fillSignin:"补签"},fightManager:{loadingMap:"正在加载地图...",buildingCity:"开始建造城市...",cityLoadOver:"城市加载完毕..."},fightMap:{trimTheGround:"正在修整地面...",pavingTheRoad:"正在铺路中...",plantingTree:"正在栽树中...",decorateHouse:"正在装修房屋中...",paintLandmarks:"正在粉刷地标中..."},online:{close:"关闭",clickReceive:"点击领取",dailyIncome:"日常收益可领取"},lottery:{title:"幸运大转盘",free:"免费"},talk:{"你好,请到街对面接我.":"你好,请到街对面接我.","停车!停车!":"停车!停车!","去消费最高的地方.":"去消费最高的地方.","去附近的希尔顿酒店.":"去附近的希尔顿酒店.","司机快来!我老婆要生了!":"司机快来!我老婆要生了!","大哥快点,我赶时间.":"大哥快点,我赶时间.","师傅,5分钟内能到吗?":"师傅,5分钟内能到吗?","师傅,你是老司机嘛?":"师傅,你是老司机嘛?","师傅,你跑一天能赚多少?":"师傅,你跑一天能赚多少?","师傅快点,我要赶飞机.":"师傅快点,我要赶飞机.","师傅跟上那辆法拉利.":"师傅跟上那辆法拉利.","带我去最近的银行.":"带我去最近的银行.","帮我跟上前面那辆车!":"帮我跟上前面那辆车!","快去火车站,我赶车!":"快去火车站,我赶车!","我在酒店大堂门口等你.":"我在酒店大堂门口等你.","要下雨了,你快来!":"要下雨了,你快来!"},showReward:{title:"奖励",normalReceive:"普通领取",ReceiveImmediately:" 立即领取",doubleReceive:"双倍领取",alreadyHadCar:"您已拥有该车辆，自动转成对应金币",buySuccessful:"购买成功",confrim:"确认",signinReward:"签到奖励"},revive:{reviveImmediately:"立即复活",skip:"跳过",tips:"真可惜，只差一点就到终点了!",continue:"复活继续"},clickBox:{title:"神秘大礼",progress:"点击越快奖励越多",clickMe:"快点我",normalReceive:"普通领取",doubleReceive:"双倍领取"},trial:{title:"免费试用",tryItNow:"立即试用",giveUp:"放弃试用, 开始游戏"},invinceible:{title:"无敌开局",confirm:"确认",close:"关闭"},setting:{title:"设置",version:"版本号:",close:"关闭"}},e._RF.pop()}}}));

System.register("chunks:///_virtual/updateValueLabel.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,a,n,s,r,l;return{setters:[function(t){i=t.inheritsLoose,e=t.defineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,r=t.Label,l=t.Component}],execute:function(){var h;n._RF.push({},"4b7cfRS5bdP8qo8rorNgln5","updateValueLabel",void 0);var u=s.ccclass,o=(s.property,s.requireComponent);t("updateValueLabel",u("updateValueLabel")(h=o(r)(h=function(t){function n(){for(var i,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return i=t.call.apply(t,[this].concat(s))||this,e(a(i),"isPlaying",!1),e(a(i),"startVal",0),e(a(i),"endVal",0),e(a(i),"diffVal",0),e(a(i),"currTime",0),e(a(i),"changingTime",0),e(a(i),"label",null),i}i(n,t);var s=n.prototype;return s.start=function(){},s.playUpdateValue=function(t,i,e){this.startVal=t,this.endVal=i,this.diffVal=this.endVal-this.startVal,this.currTime=0,this.changingTime=e,this.label=this.node.getComponent(r),this.label.string=t.toString(),this.isPlaying=!0},s.update=function(t){if(this.isPlaying){if(this.currTime<this.changingTime){this.currTime+=t;var i=this.startVal+parseInt((this.currTime/this.changingTime*this.diffVal).toString());return i<this.startVal?i=this.startVal:i>this.endVal&&(i=this.endVal),void(this.label.string=""+i)}this.label.string=""+this.endVal,this.isPlaying=!1}},n}(l))||h)||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/setting.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./configuration.ts","./audioManager.ts","./localConfig.ts","./uiManager.ts","./gameLogic.ts","./LanguageData.ts"],(function(i){"use strict";var n,t,e,o,s,r,c,a,u,l,p,h,g,f,S,b,d;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.defineProperty},function(i){r=i.cclegacy,c=i._decorator,a=i.Sprite,u=i.SpriteFrame,l=i.Label,p=i.Component},function(i){h=i.configuration},function(i){g=i.audioManager},function(i){f=i.localConfig},function(i){S=i.uiManager},function(i){b=i.gameLogic},function(i){d=i.i18n}],execute:function(){var m,w,O,y,C,V,v,M,F,k,z,L,D;r._RF.push({},"501ddLP5JZNPaa02x+rFKAH","setting",void 0);var P=c.ccclass,_=c.property;i("setting",(m=P("setting"),w=_(a),O=_(a),y=_(u),C=_(u),V=_(l),m((F=n((M=function(i){function n(){for(var n,t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return n=i.call.apply(i,[this].concat(r))||this,e(o(n),"spVibrateSwitch",F,o(n)),e(o(n),"spSoundSwitch",k,o(n)),e(o(n),"imgSwitchOpen",z,o(n)),e(o(n),"imgSwitchClose",L,o(n)),e(o(n),"lbVersion",D,o(n)),s(o(n),"isSoundOpen",void 0),s(o(n),"isVibrateOpen",void 0),s(o(n),"clickTimes",0),n}t(n,i),n.checkState=function(){g.instance.getConfiguration(!0)?(g.instance.openMusic(),g.instance.openSound()):(g.instance.closeMusic(),g.instance.closeSound())};var r=n.prototype;return r.start=function(){},r.show=function(){this.clickTimes+=1,this.lbVersion.string=d.t("setting.version")+" "+f.instance.getVersion(),this.isSoundOpen=g.instance.getConfiguration(!0),this.isVibrateOpen=b.isVibrateOpen(),this.refreshSwitchUI()},r.refreshSwitchUI=function(){this.isVibrateOpen?this.spVibrateSwitch.spriteFrame=this.imgSwitchOpen:this.spVibrateSwitch.spriteFrame=this.imgSwitchClose,this.isSoundOpen?this.spSoundSwitch.spriteFrame=this.imgSwitchOpen:this.spSoundSwitch.spriteFrame=this.imgSwitchClose},r.onBtnVibrateClick=function(){},r.onBtnSoundClick=function(){this.isSoundOpen=!this.isSoundOpen,this.isSoundOpen?(g.instance.openMusic(),g.instance.openSound()):(g.instance.closeMusic(),g.instance.closeSound()),h.instance.setGlobalData("music",""+this.isSoundOpen),this.refreshSwitchUI()},r.onBtnCloseClick=function(){S.instance.hideDialog("main/setting")},n}(p)).prototype,"spVibrateSwitch",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(M.prototype,"spSoundSwitch",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(M.prototype,"imgSwitchOpen",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(M.prototype,"imgSwitchClose",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(M.prototype,"lbVersion",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=M))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/customerManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./fightConstants.ts","./clientEvent.ts","./resourceUtil.ts","./audioManager.ts","./constant.ts","./poolManager.ts"],(function(e){"use strict";var t,o,n,s,r,i,a,u,l,c,d,m,h,f,C,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,r=e.defineProperty},function(e){i=e.cclegacy,a=e._decorator,u=e.Vec3,l=e.Animation,c=e.isValid,d=e.Component},function(e){m=e.fightConstants},function(e){h=e.clientEvent},function(e){f=e.resourceUtil},function(e){C=e.audioManager},function(e){g=e.constant},function(e){p=e.poolManager}],execute:function(){var _,v,M;i._RF.push({},"586a8tdaBhPQprl2rcvzztA","customerManager",void 0);var y=a.ccclass,S=a.property;e("customerManager",y("customerManager")((M=t((v=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(s(t),"moveSpeed",M,s(t)),r(s(t),"nodeCustomer",null),r(s(t),"_targetPos",null),r(s(t),"_callback",void 0),r(s(t),"_offset",null),r(s(t),"customerId",-1),r(s(t),"retryTimes",0),t}o(t,e);var i=t.prototype;return i.start=function(){},i.newOrder=function(){this.customerId=Math.floor(Math.random()*g.CUSTOMER_MAX_CNT)+1,h.dispatchEvent("showTalk",this.customerId,m.CUSTOMER_TALK_TIME.NEW_ORDER)},i.greeting=function(e,t,o){var n=this;-1===this.customerId&&(this.customerId=Math.floor(Math.random()*g.CUSTOMER_MAX_CNT)+1),this.nodeCustomer&&(p.instance.putNode(this.nodeCustomer),this.nodeCustomer=null),f.getCustomer(this.customerId.toString(),(function(s,r){if(s)return console.error(s),void(n.retryTimes<3&&n.greeting(e,t,o));n.retryTimes=0,n.nodeCustomer=p.instance.getNode(r,n.node),n.nodeCustomer.active=!0;var i=new u;u.multiplyScalar(i,t,1.3),u.add(i,e,i);var a=i.clone();u.multiplyScalar(i,t,.25),u.add(i,e,i);var l=i.clone();n.nodeCustomer.setWorldPosition(a),0!==t.x?t.x>0?n.nodeCustomer.eulerAngles=new u(0,270,0):n.nodeCustomer.eulerAngles=new u(0,90,0):t.z>0?n.nodeCustomer.eulerAngles=new u(0,180,0):n.nodeCustomer.eulerAngles=new u(0,0,0),C.instance.playSound(g.AUDIO_SOUND.NEW_ORDER),n.customerMove(l,(function(){C.instance.playSound(g.AUDIO_SOUND.IN_CAR),o&&o(),n.scheduleOnce((function(){h.dispatchEvent("showTalk",n.customerId,m.CUSTOMER_TALK_TIME.INTO_THE_CAR)}),1)}))}))},i.takeCustomer=function(e,t,o,n){var s=this;if(this.nodeCustomer){t=new u(t.x,t.y,t.z);var r=new u;u.multiplyScalar(r,t,.25),u.add(r,e,r);var i=r.clone();this.nodeCustomer.active=!0,this.nodeCustomer.setWorldPosition(i),0!==t.x?t.x>0?this.nodeCustomer.eulerAngles=new u(0,90,0):this.nodeCustomer.eulerAngles=new u(0,270,0):t.z>0?this.nodeCustomer.eulerAngles=new u(0,0,0):this.nodeCustomer.eulerAngles=new u(0,180,0),u.multiplyScalar(r,t,1.3),u.add(r,e,r);var a=r.clone();C.instance.playSound(g.AUDIO_SOUND.GET_MONEY),this.customerMove(a,(function(){n&&n(),o||s.scheduleOnce((function(){s.newOrder()}),2)}))}else n&&n()},i.customerMove=function(e,t){this._targetPos=e,this._callback=t,this.nodeCustomer.getComponent(l).play("walk"),this._offset=u.subtract(new u,this._targetPos,this.nodeCustomer.worldPosition),this._offset.multiplyScalar(this.moveSpeed)},i.update=function(e){if(this._targetPos&&this.nodeCustomer){var t=this.nodeCustomer.getWorldPosition(),o=new u;u.multiplyScalar(o,this._offset,e),t.add(o),u.subtract(o,t,this._targetPos).lengthSqr()<.01?this.onMoveOver():this.nodeCustomer.setWorldPosition(t)}},i.onMoveOver=function(){this.nodeCustomer.setWorldPosition(this._targetPos),this.nodeCustomer.active=!1,this._targetPos=null,this._callback&&this._callback()},i.reset=function(){this.nodeCustomer&&c(this.nodeCustomer)&&(this.nodeCustomer.getComponent(l).getState("walk").stop(),this.nodeCustomer.destroy(),this.nodeCustomer=null);this.customerId=-1},t}(d)).prototype,"moveSpeed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=v))||_);i._RF.pop()}}}));

System.register("chunks:///_virtual/clientEvent.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./oneToMultiListener.ts"],(function(e){"use strict";var t,n,r,i,c;return{setters:[function(e){t=e.defineProperty,n=e.inheritsLoose},function(e){r=e.cclegacy,i=e._decorator},function(e){c=e.oneToMultiListener}],execute:function(){var o,s,u;r._RF.push({},"5a305zVBk5GUIdzJLbOwV+H","clientEvent",void 0);var l=i.ccclass;i.property,e("clientEvent",l("clientEvent")((u=s=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t}(c),t(s,"handlers",{}),o=u))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/onlineDouble.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./constant.ts","./util.ts","./playerData.ts","./uiManager.ts","./gameLogic.ts"],(function(n){"use strict";var e,t,o,i,r,l,a,c,u,s,p,f,d,b,y,h;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.defineProperty,i=n.assertThisInitialized,r=n.initializerDefineProperty},function(n){l=n.cclegacy,a=n._decorator,c=n.Label,u=n.Sprite,s=n.Component},function(n){p=n.clientEvent},function(n){f=n.constant},function(n){d=n.util},function(n){b=n.playerData},function(n){y=n.uiManager},function(n){h=n.gameLogic}],execute:function(){var g,v,w,D,m,M,C,N,G;l._RF.push({},"5b356wyJ3BCYZpADXUOyafo","onlineDouble",void 0);var I=a.ccclass,E=a.property;n("onlineDouble",(g=I("onlineDouble"),v=E(c),w=E(c),D=E(u),g((C=e((M=function(n){function e(){for(var e,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return e=n.call.apply(n,[this].concat(l))||this,o(i(e),"rewardMoney",0),o(i(e),"overCallback",null),r(i(e),"lbGoldNormal",C,i(e)),r(i(e),"lbGoldMulti",N,i(e)),r(i(e),"spIcon",G,i(e)),e}t(e,n);var l=e.prototype;return l.start=function(){},l.show=function(n,e){this.rewardMoney=n,this.overCallback=e,this.lbGoldNormal.string=d.formatMoney(n),this.lbGoldMulti.string=d.formatMoney(3*n),h.updateRewardIcon(f.SHARE_FUNCTION.ONLINE,this.spIcon)},l.onBtnGetNormalClick=function(){this.rewardOver(this.rewardMoney)},l.onBtnGetMultiClick=function(){var n=this;h.openReward(f.SHARE_FUNCTION.ONLINE,(function(e){e||n.rewardOver(3*n.rewardMoney)}))},l.rewardOver=function(n){b.instance.updatePlayerInfo("gold",n),y.instance.hideDialog("main/onlineDouble"),h.showFlyReward(f.REWARD_TYPE.GOLD,(function(){p.dispatchEvent("updateGold")})),this.overCallback&&this.overCallback()},l.onBtnCloseClick=function(){y.instance.hideDialog("main/onlineDouble")},e}(s)).prototype,"lbGoldNormal",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(M.prototype,"lbGoldMulti",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(M.prototype,"spIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=M))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/trial.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./resourceUtil.ts","./constant.ts","./poolManager.ts","./localConfig.ts","./playerData.ts","./uiManager.ts","./gameLogic.ts"],(function(t){"use strict";var e,n,r,a,i,o,c,l,s,u,p,f,h,g,d,C,y,I,b,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.defineProperty},function(t){o=t.cclegacy,c=t._decorator,l=t.Node,s=t.Widget,u=t.Sprite,p=t.Vec3,f=t.Component},function(t){h=t.clientEvent},function(t){g=t.resourceUtil},function(t){d=t.constant},function(t){C=t.poolManager},function(t){y=t.localConfig},function(t){I=t.playerData},function(t){b=t.uiManager},function(t){v=t.gameLogic}],execute:function(){var D,m,w,_,k,M,R,B,N;o._RF.push({},"5bf756By5JOmoKbG0aoUzq6","trial",void 0);var S=c.ccclass,z=c.property;t("trial",(D=S("trial"),m=z(l),w=z(s),_=z(u),D((R=e((M=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,r(a(e),"nodeCarParent",R,a(e)),r(a(e),"wgMenu",B,a(e)),i(a(e),"currentCar",null),i(a(e),"carDegree",0),i(a(e),"rotateSpeed",30),i(a(e),"carId",0),r(a(e),"spIcon",N,a(e)),i(a(e),"_callback",void 0),e}n(e,t);var o=e.prototype;return o.start=function(){},o.show=function(t){var e=this;this._callback=t,v.updateRewardIcon(d.SHARE_FUNCTION.TRIAL,this.spIcon),this.currentCar&&(C.instance.putNode(this.currentCar),this.currentCar=null);var n=y.instance.getCars(),r=[];if(n.forEach((function(t){I.instance.hasCar(t.ID)||r.push(t.ID)})),r.length<=0)this.onBtnCloseClick();else{var a=Math.floor(Math.random()*r.length);this.carId=r[a];var i=y.instance.queryByID("car",this.carId.toString());g.getUICar(i.model,(function(t,n){t?console.error(t,i.model):(e.carDegree=0,e.currentCar=C.instance.getNode(n,e.nodeCarParent))}))}},o.onBtnCloseClick=function(){b.instance.hideDialog("main/trial"),this._callback&&this._callback()},o.onBtnTrialClick=function(){var t=this;v.openReward(d.SHARE_FUNCTION.TRIAL,(function(e,n){e||(I.instance.showCar=t.carId,h.dispatchEvent("updateCar"),t.onBtnCloseClick())}))},o.update=function(t){this.currentCar&&(this.carDegree-=t*this.rotateSpeed,this.carDegree<=-360&&(this.carDegree+=360),this.currentCar.eulerAngles=new p(0,this.carDegree,0))},e}(f)).prototype,"nodeCarParent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(M.prototype,"wgMenu",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(M.prototype,"spIcon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=M))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/tips.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./poolManager.ts"],(function(t){"use strict";var e,n,i,o,r,s,a,c,p,l,u,h,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty},function(t){s=t.cclegacy,a=t._decorator,c=t.Label,p=t.Vec3,l=t.UITransform,u=t.isValid,h=t.tween,d=t.Component},function(t){f=t.poolManager}],execute:function(){var g,y,b,v,w;s._RF.push({},"60f49uw4/dA4rGh/C738U1T","tips",void 0);var P=a.ccclass,T=a.property;t("tips",(g=P("tips"),y=T(c),g((w=e((v=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(o(e),"lbTips",w,o(e)),r(o(e),"targetPos",void 0),e}n(e,t);var s=e.prototype;return s.start=function(){},s.show=function(t,e){var n=this;this.targetPos=new p(0,200,0),this.node.setPosition(this.targetPos),this.lbTips.string=t;var i=this.lbTips.node.getComponent(l).contentSize;u(i)?(this.node.getComponent(l).setContentSize(i.width+100<240?240:i.width+100,i.height+30),this.scheduleOnce((function(){h(n.targetPos).by(.8,new p(0,150,0)).call((function(){e&&e(),f.instance.putNode(n.node)})).start()}),.8)):f.instance.putNode(this.node)},e}(d)).prototype,"lbTips",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=v))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/flyRewardItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,a,o,n,r,s,i,c,l;return{setters:[function(t){e=t.inheritsLoose,a=t.defineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,s=t.Vec3,i=t.Sprite,c=t.tween,l=t.Component}],execute:function(){var h;n._RF.push({},"62dd66o/TBEyqhX8gZkE8/G","flyRewardItem",void 0);var d=r.ccclass;r.property,t("flyRewardItem",d("flyRewardItem")(h=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,a(o(e),"targetPos",new s),a(o(e),"targetRotation",new s(0,0,0)),a(o(e),"targetScale",new s(1,1,1)),a(o(e),"posLast",new s),a(o(e),"_callback",null),e}e(n,t);var r=n.prototype;return r.start=function(){},r.show=function(t,e,a){var o=this;this.posLast.set(e),this._callback=a;var n=this.node.addComponent(i);n.trim=!1,n.sizeMode=i.SizeMode.RAW,n.spriteFrame=t,this.node.eulerAngles=new s(0,0,Math.floor(360*Math.random())),this.targetRotation=new s(this.node.eulerAngles);var r=new s(Math.floor(300*Math.random())-150,Math.floor(300*Math.random())-150,0),l=s.distance(r,new s(0,0,0))/400;c(this.targetPos).to(l,r,{easing:"cubicInOut"}).start();var h=120+Math.floor(60*Math.random());h=this.targetRotation.z+Math.floor(2*Math.random())===1?h:-h,c(this.targetRotation).to(l,new s(0,0,h)).start(),c(this.targetScale).to(2*l/3,new s(1.4,1.4,1.4)).to(l/3,new s(1,1,1)).call((function(){o.move2Target()})).start()},r.move2Target=function(){var t=this,e=s.distance(this.node.position,this.posLast)/1500,a=Math.floor(10*Math.random())/10;c(this.targetScale).to(.3,new s(1.4,1.4,1.4)).to(.7,new s(1,1,1)).union().repeat(50).start(),this.scheduleOnce((function(){c(t.targetPos).to(e,t.posLast).call((function(){t._callback&&t._callback(t.node)})).start()}),a)},r.update=function(t){this.node.position=this.targetPos,this.node.eulerAngles=this.targetRotation,this.node.setScale(this.targetScale)},n}(l))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/csvManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.defineProperty},function(e){r=e.cclegacy,n=e._decorator}],execute:function(){var i;r._RF.push({},"64d5aR01mZIArZ14oqSxdz0","csvManager",void 0);var s=n.ccclass,u=[",",";","\t","|","^"],a=["\r\n","\r","\n"],o=function(e,t,r,n){return r instanceof Array?"number"===r[t]?Number(n[t]):"boolean"===r[t]?"true"===n[t]||"t"===n[t]||"1"===n[t]:n[t]:isNaN(Number(e))?"false"==e||"true"==e||"t"==e||"f"==e?"true"===n[t]||"t"===n[t]||"1"===n[t]:n[t]:Number(n[t])},l={STANDARD_DECODE_OPTS:{skip:0,limit:!1,header:!1,cast:!1,comment:""},STANDARD_ENCODE_OPTS:{delimiter:u[0],newline:a[0],skip:0,limit:!1,header:!1},quoteMark:'"',doubleQuoteMark:'""',quoteRegex:/"/g,opts:{},assign:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.prototype.slice.call(arguments);for(var n=t[0],i=t.slice(1),s=0,u=i.length;s<u;s++)for(var a in i[s])n[a]=i[s][a];return n},map:function(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r[n]=t(e[n],n);return r},getType:function(e){return Object.prototype.toString.call(e).slice(8,-1)},getLimit:function(e,t){return!1===e?t:1},buildObjectConstructor:function(e,t,r){return function(n){var i={},s=function(e,t){return i[e]=t};return r?e.forEach((function(e,i){s(e,o(t[i],i,r,n))})):e.forEach((function(e,r){s(e,o(t[r],r,null,n))})),i}},buildArrayConstructor:function(e,t,r){return function(n){var i=new Array(t.length),s=function(e,t){return i[e]=t};return r?e.forEach((function(e,i){s(e,o(t[i],i,r,n))})):e.forEach((function(e,r){s(e,o(t[r],r,null,n))})),i}},frequency:function(e,t,r){void 0===r&&(r=!1);for(var n=0,i=0,s=this.getLimit(r,e.length);i<s&&-1!==(i=e.indexOf(t,i));)i+=1,n++;return n},mostFrequent:function(e,t,r){for(var n="",i=t.length-1;i>=0;i--)this.frequency(e,t[i],r)>0&&(n=t[i]);return n||t[0]},unsafeParse:function(e,t,r){var n,i,s=e.split(t.newline);function u(e){var r=e.shift();if(r.indexOf('"')>=0){for(var n=0,i=0,s=0;e.length>0&&(-1!==(n=r.indexOf('"',i))||s%2!=0);)-1!==n?(i=n+1,s++):r=r+t.newline+e.shift();var u,a=[],o=0,l=0,c=0,h=r.length;for(var f in r)if(r.hasOwnProperty(f)){var d=parseInt(f),p=r[f];0===d&&'"'===p&&(o++,l=1),'"'===p&&(o++,r[d-1]===t.delimiter&&l===d&&l++),'"'===p&&o%2==0&&(r[d+1]!==t.delimiter&&d+1!==h||(c=d,u=r.substring(l,c),a.push(u),c=l=c+2)),p===t.delimiter&&o%2==0&&((c=d)>l?(u=r.substring(l,c),a.push(u),c=l=c+1):c===l&&(a.push(""),c=l=c+1))}return(c=h)>=l&&(u=r.substring(l,c),a.push(u)),a}return r.split(t.delimiter)}for(t.skip>0&&s.splice(t.skip),t.header?(!0===t.header?(t.comment=u(s),t.cast=u(s),n=u(s)):"Array"===this.getType(t.header)&&(n=t.header),i=this.buildObjectConstructor(n,s[0].split(t.delimiter),t.cast)):i=this.buildArrayConstructor(n,s[0].split(t.delimiter),t.cast);s.length>0;){var a=u(s);a.length>1&&r(i(a),n[0])}return!0},safeParse:function(e,t){var r=t.newline,n=e.split(r);return t.skip>0&&n.splice(t.skip),!0},encodeCells:function(e,t,r){for(var n=e.slice(0),i=0,s=n.length;i<s;i++)-1!==n[i].indexOf(this.quoteMark)&&(n[i]=n[i].replace(this.quoteRegex,this.doubleQuoteMark)),-1===n[i].indexOf(t)&&-1===n[i].indexOf(r)||(n[i]=this.quoteMark+n[i]+this.quoteMark);return n.join(t)},encodeArrays:function(e,t,r){var n=t.delimiter,i=t.newline;t.header&&"Array"===this.getType(t.header)&&r(this.encodeCells(t.header,n,i));for(var s=0,u=this.getLimit(t.limit,e.length);s<u;s++)r(this.encodeCells(e[s],n,i));return!0},encodeObjects:function(e,t,r){var n=t.delimiter,i=t.newline,s=[],u=[];for(var a in e[0])s.push(a),u.push(e[0][a]);!0===t.header?r(this.encodeCells(s,n,i)):"Array"===this.getType(t.header)&&r(this.encodeCells(t.header,n,i)),r(this.encodeCells(u,n,"\n"));for(var o=1,l=this.getLimit(t.limit,e.length);o<l;o++){u=[];for(var c=0,h=s.length;c<h;c++)u.push(e[o][s[c]]);r(this.encodeCells(u,n,i))}return!0},parse:function(e,t,r){var n=[];if("Function"===this.getType(t)?(r=t,t={}):"Function"!==this.getType(r)&&(r=n.push.bind(n)),t=this.assign({},this.STANDARD_DECODE_OPTS,t),this.opts=t,!t.delimiter||!t.newline){var i=Math.min(48,Math.floor(e.length/20),e.length);t.delimiter=t.delimiter||this.mostFrequent(e,u,0!==i),t.newline=t.newline||this.mostFrequent(e,a,0!==i)}return this.unsafeParse(e,t,r)&&(!(n.length>0)||n)},encode:function(e,t,r){var n=[];return"Function"===this.getType(t)?r=t:"Function"!==this.getType(r)&&(r=(n=[]).push.bind(n)),(t=this.assign({},this.STANDARD_ENCODE_OPTS,t)).skip>0&&(e=e.slice(t.skip)),("Array"===this.getType(e[0])?this.encodeArrays:this.encodeObjects)(e,t,r)&&(!(n.length>0)||n.join(t.newline))}};e("csvManager",s("csvManager")(i=function(){function e(){t(this,"csvTables",{}),t(this,"csvTableForArr",{}),t(this,"tableCast",{}),t(this,"tableComment",{})}var r=e.prototype;return r.addTable=function(e,t,r){if(!this.csvTables[e]||r){var n={},i=[];l.parse(t,{header:!0},(function(e,t){n[e[t]]=e,i.push(e)})),this.tableCast[e]=l.opts.cast,this.tableComment[e]=l.opts.comment,this.csvTables[e]=n,this.csvTableForArr[e]=i}},r.getTableArr=function(e){return this.csvTableForArr[e]},r.getTable=function(e){return this.csvTables[e]},r.queryOne=function(e,t,r){var n=this.getTable(e);if(!n)return null;if(!t)return n[r];for(var i in n)if(n.hasOwnProperty(i)&&n[i][t]===r)return n[i]},r.queryByID=function(e,t){return this.queryOne(e,null,t)},r.queryAll=function(e,t,r){var n=this.getTable(e);if(!n||!t)return null;var i={};for(var s in n)n.hasOwnProperty(s)&&n[s][t]===r&&(i[s]=n[s]);return i},r.queryIn=function(e,t,r){var n=this.getTable(e);if(!n||!t)return null;for(var i={},s=Object.keys(n),u=s.length,a=0;a<u;a++){var o=n[s[a]];r.indexOf(o[t])>-1&&(i[s[a]]=o)}return i},r.queryByCondition=function(e,t){if(t.constructor!==Object)return null;var r=this.getTable(e);if(!r)return null;for(var n={},i=Object.keys(r),s=i.length,u=Object.keys(t),a=u.length,o=0;o<s;o++){for(var l=r[i[o]],c=!0,h=0;h<a;h++){var f=u[h];c=c&&t[f].indexOf(l[f])>-1&&!n[i[o]]}c&&(n[i[o]]=l)}return n},e}())||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/mainUI.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./constant.ts","./util.ts","./playerData.ts","./uiManager.ts","./gameLogic.ts"],(function(n){"use strict";var t,e,i,a,o,r,s,c,l,u,h,d,f,p,g,C,v,I,y,S;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized,o=n.defineProperty},function(n){r=n.cclegacy,s=n._decorator,c=n.Sprite,l=n.Label,u=n.Node,h=n.Vec3,d=n.tween,f=n.sys,p=n.Component},function(n){g=n.clientEvent},function(n){C=n.constant},function(n){v=n.util},function(n){I=n.playerData},function(n){y=n.uiManager},function(n){S=n.gameLogic}],execute:function(){var b,w,D,G,m,R,E,B,k,L,T,P,_,z,A;r._RF.push({},"6e662xQs9xPfZ4Gn7vNo4u5","mainUI",void 0);var x=s.ccclass,U=s.property;n("mainUI",(b=x("mainUI"),w=U(c),D=U(l),G=U(u),m=U(u),R=U(u),E=U(u),b((L=t((k=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r))||this,i(a(t),"spIcon",L,a(t)),i(a(t),"lbGold",T,a(t)),i(a(t),"nodeBtnService",P,a(t)),i(a(t),"nodeSignInRedDot",_,a(t)),i(a(t),"nodeGoldIcon",z,a(t)),i(a(t),"nodeShopRedDot",A,a(t)),o(a(t),"targetScale",new h(1,1,1)),o(a(t),"isGoldPlaying",!1),o(a(t),"arrCars",[]),o(a(t),"isShowAniFinished",!1),o(a(t),"debugIdx",0),o(a(t),"debugTimer",0),t}e(t,n);var r=t.prototype;return r.start=function(){S.afterLogin(),this.updateSignIn()},r.onEnable=function(){g.on("updateGold",this.updateGold,this),g.on("updateSignIn",this.updateSignIn,this),g.on("receiveGold",this.receiveGold,this),g.on("updateCar",this.updateCar,this),g.on("buyCar",this.updateCarReceived,this),this.nodeGoldIcon.on(u.EventType.TOUCH_START,this.resetPlayData,this)},r.onDisable=function(){g.off("updateGold",this.updateGold,this),g.off("updateSignIn",this.updateSignIn,this),g.off("receiveGold",this.receiveGold,this),g.off("updateCar",this.updateCar,this),g.off("buyCar",this.updateCarReceived,this),this.nodeGoldIcon.off(u.EventType.TOUCH_START,this.resetPlayData,this)},r.updateGold=function(){var n=I.instance.playerInfo.gold||0;this.lbGold.string=v.formatMoney(n)},r.receiveGold=function(){var n=this;this.isGoldPlaying=!0,this.nodeGoldIcon.setScale(new h(1,1,1)),d(this.targetScale).to(.2,new h(1.2,1.2,1.2)).to(.2,new h(1,1,1)).call((function(){n.isGoldPlaying=!1})).start()},r.updateSignIn=function(){I.instance.updateSignInCurrentDay();var n=I.instance.getSignInReceivedInfo();this.nodeSignInRedDot.active=!n.isAllReceived},r.onBtnBgClick=function(){var n=this;I.instance.playerInfo.level>C.NEWBEE_LEVEL?y.instance.showDialog("main/trial",[function(){n.askInvincible()}]):this.showStart()},r.askInvincible=function(){var n=this;I.instance.playerInfo.level>C.NEWBEE_LEVEL?y.instance.showDialog("main/invincible",[function(){n.showStart()}]):this.showStart()},r.showStart=function(){g.dispatchEvent("startGame")},r.onBtnDailyClick=function(){y.instance.showDialog("signIn/signIn")},r.onBtnLotteryClick=function(){y.instance.showDialog("lottery/lottery")},r.onBtnRankClick=function(){y.instance.showDialog("rank/rank")},r.onBtnChangeCarClick=function(){y.instance.showDialog("shop/shop")},r.onBtnSettingClick=function(){y.instance.showDialog("main/setting")},r.updateCar=function(){},r.updateCarReceived=function(){this.nodeShopRedDot.active=I.instance.hasCarCanReceived()},r.onBtnLeftClick=function(){var n=I.instance.showCar,t=this.arrCars.indexOf(n);--t<0&&(t=this.arrCars.length-1),I.instance.showCar=this.arrCars[t],g.dispatchEvent("updateCar")},r.onBtnRightClick=function(){var n=I.instance.showCar,t=this.arrCars.indexOf(n);++t>=this.arrCars.length&&(t=0),I.instance.showCar=this.arrCars[t],g.dispatchEvent("updateCar")},r.show=function(){var n=this;this.updateGold(),this.nodeShopRedDot.active=I.instance.hasCarCanReceived(),this.arrCars.length=0,I.instance.playerInfo.cars.forEach((function(t){var e=parseInt(t);e>=0&&n.arrCars.push(e)})),this.isShowAniFinished=!0,S.updateRewardIcon(C.SHARE_FUNCTION.TRIAL,this.spIcon,(function(){I.instance.hasCar(I.instance.showCar)&&(n.spIcon.node.active=!1)})),I.instance.isComeFromBalance&&this.onBtnBgClick()},r.update=function(n){(this.isGoldPlaying||1!==this.targetScale.x)&&this.nodeGoldIcon.setScale(this.targetScale)},r.onBtnDebugClick=function(){},r.resetPlayData=function(){f.localStorage.removeItem("CarConfig"),y.instance.showTips("数据重置成功！")},t}(p)).prototype,"spIcon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(k.prototype,"lbGold",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(k.prototype,"nodeBtnService",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(k.prototype,"nodeSignInRedDot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(k.prototype,"nodeGoldIcon",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(k.prototype,"nodeShopRedDot",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=k))||B));r._RF.pop()}}}));

System.register("chunks:///_virtual/showReward.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./resourceUtil.ts","./constant.ts","./poolManager.ts","./localConfig.ts","./playerData.ts","./uiManager.ts","./gameLogic.ts","./LanguageData.ts"],(function(e){"use strict";var t,n,i,r,a,o,l,c,u,s,d,p,h,b,f,w,m,g,R,y,D,I,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.defineProperty},function(e){o=e.cclegacy,l=e._decorator,c=e.SpriteFrame,u=e.Sprite,s=e.Label,d=e.Node,p=e.Animation,h=e.Vec3,b=e.Component},function(e){f=e.clientEvent},function(e){w=e.resourceUtil},function(e){m=e.constant},function(e){g=e.poolManager},function(e){R=e.localConfig},function(e){y=e.playerData},function(e){D=e.uiManager},function(e){I=e.gameLogic},function(e){T=e.i18n}],execute:function(){var v,C,E,P,A,B,_,N,k,z,L,S,G,W,Y,F,M,O,H,U,V,q,j,x,K;o._RF.push({},"880e1kClIdKPqdXdgTIpdv2","showReward",void 0);var X=l.ccclass,J=l.property;e("showReward",(v=X("showReward"),C=J(c),E=J(u),P=J(s),A=J(s),B=J(s),_=J(s),N=J(d),k=J(d),z=J(d),L=J(d),S=J(p),v((Y=t((W=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(r(t),"sfGold",Y,r(t)),i(r(t),"spIcon",F,r(t)),i(r(t),"lbRewardValue",M,r(t)),i(r(t),"lbTips",O,r(t)),i(r(t),"lbTitle",H,r(t)),i(r(t),"lbImmediateBtn",U,r(t)),i(r(t),"ndCarParent",V,r(t)),i(r(t),"ndBtnDouble",q,r(t)),i(r(t),"ndBtnNormal",j,r(t)),i(r(t),"ndBtnImmediately",x,r(t)),i(r(t),"aniReward",K,r(t)),a(r(t),"isDouble",!1),a(r(t),"callback",null),a(r(t),"isLast",!1),a(r(t),"rewardType",0),a(r(t),"amount",0),a(r(t),"itemInfo",void 0),a(r(t),"_isHadCar",!1),a(r(t),"currentCar",null),a(r(t),"carDegree",0),a(r(t),"rotateSpeed",30),t}n(t,e);var o=t.prototype;return o.start=function(){},o.show=function(e,t,n,i,r,a){var o=this;this.itemInfo=e,this.rewardType=e.rewardType,this.amount=e.amount,this.ndBtnDouble.active=t,this.ndBtnNormal.active=t,this.ndBtnImmediately.active=!t,this.lbTitle.string=n,this.lbRewardValue.string=e.rewardType===m.REWARD_TYPE.CAR?"":String(this.amount),this.callback=i,r?(this.lbTips.node.active=!0,this.lbTips.string=r):this.lbTips.node.active=!1,this.showRewardPage(),this.aniReward.play("rewardShow"),this.aniReward.once(p.EventType.FINISHED,(function(){o.aniReward.play("rewardIdle")}),this),this.lbImmediateBtn.string=a||T.t("balance.receiveImmediately")},o.showRewardPage=function(){var e=this;switch(this.currentCar&&(g.instance.putNode(this.currentCar),this.currentCar=null),this.rewardType){case m.REWARD_TYPE.DIAMOND:break;case m.REWARD_TYPE.GOLD:this.spIcon.spriteFrame=this.sfGold,this.spIcon.node.active=!0;break;case m.REWARD_TYPE.CAR:this.spIcon.node.active=!1;var t=R.instance.queryByID("car",this.itemInfo.ID).model;w.getUICar(t,(function(t,n){t?console.error(t):(e.currentCar=g.instance.getNode(n,e.ndCarParent),e.carDegree=0)}))}},o.onBtnNormalClick=function(){this.addReward()},o.onBtnDoubleClick=function(){var e=this;I.openReward(m.SHARE_FUNCTION.SIGNIN,(function(t){t||(e.amount*=2,e.addReward())}))},o.onBtnImmediatelyClick=function(){this.addReward()},o.addReward=function(){switch(this.rewardType){case m.REWARD_TYPE.DIAMOND:break;case m.REWARD_TYPE.GOLD:y.instance.updatePlayerInfo("gold",this.amount),I.showFlyReward(m.REWARD_TYPE.GOLD,(function(){f.dispatchEvent("updateGold")}));break;case m.REWARD_TYPE.CAR:I.buyCar(this.itemInfo.ID)}D.instance.hideDialog("common/showReward"),this.callback&&this.callback()},o.update=function(e){this.currentCar&&(this.carDegree-=e*this.rotateSpeed,this.carDegree<=-360&&(this.carDegree+=360),this.currentCar.eulerAngles=new h(0,this.carDegree,0))},t}(b)).prototype,"sfGold",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(W.prototype,"spIcon",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(W.prototype,"lbRewardValue",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(W.prototype,"lbTips",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(W.prototype,"lbTitle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(W.prototype,"lbImmediateBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(W.prototype,"ndCarParent",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(W.prototype,"ndBtnDouble",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(W.prototype,"ndBtnNormal",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(W.prototype,"ndBtnImmediately",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(W.prototype,"aniReward",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=W))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/clickBox.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./fightConstants.ts","./constant.ts","./uiManager.ts","./gameLogic.ts"],(function(e){"use strict";var i,t,r,n,o,s,c,l,a,u,h,d,p,f,g,B;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.defineProperty},function(e){s=e.cclegacy,c=e._decorator,l=e.ProgressBarComponent,a=e.Node,u=e.Label,h=e.Sprite,d=e.Component},function(e){p=e.fightConstants},function(e){f=e.constant},function(e){g=e.uiManager},function(e){B=e.gameLogic}],execute:function(){var C,b,w,R,m,k,v,y,_,x,P,I,O,L,T,z,D;s._RF.push({},"884dcSQc2hHsJby3+7ljIyd","clickBox",void 0);var M=c.ccclass,A=c.property;e("clickBox",(C=M("clickBox"),b=A(l),w=A(a),R=A(u),m=A(a),k=A(a),v=A(a),y=A(h),C((P=i((x=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),c=0;c<t;c++)s[c]=arguments[c];return i=e.call.apply(e,[this].concat(s))||this,r(n(i),"progress",P,n(i)),r(n(i),"nodeReward",I,n(i)),r(n(i),"lbReward",O,n(i)),r(n(i),"nodeBox",L,n(i)),r(n(i),"nodeMenu",T,n(i)),r(n(i),"nodeClickBtn",z,n(i)),r(n(i),"spIcon",D,n(i)),o(n(i),"scheduleTime",0),o(n(i),"curProgress",50),o(n(i),"clickTimes",15),o(n(i),"curClick",0),o(n(i),"isOpenBox",!1),o(n(i),"rewardValue",0),i}t(i,e);var s=i.prototype;return s.start=function(){},s.show=function(){this.scheduleTime=0,this.curProgress=50,this.clickTimes=10+Math.floor(5*Math.random()),this.curClick=0,this.isOpenBox=!1,this.nodeClickBtn.active=!0,this.progress.node.active=!0,this.nodeBox.active=!0,this.nodeReward.active=!1,this.nodeMenu.active=!1,B.updateRewardIcon(f.SHARE_FUNCTION.CLICK_BOX,this.spIcon)},s.onBtnBoxClick=function(){this.isOpenBox||(this.curClick++,this.curClick>this.clickTimes?(this.isOpenBox=!0,this.showReward()):(this.curProgress+=20,this.curProgress=this.curProgress>100?100:this.curProgress))},s.showReward=function(){this.nodeClickBtn.active=!1,this.progress.node.active=!1,this.nodeBox.active=!1,this.nodeReward.active=!0,this.nodeMenu.active=!0,this.lbReward.string="+"+p.CLICK_BOX_REWARD,this.rewardValue=p.CLICK_BOX_REWARD},s.update=function(e){this.scheduleTime+=e,this.scheduleTime>=.1&&(this.curProgress-=3,this.curProgress=this.curProgress<0?0:this.curProgress,this.scheduleTime=0),this.progress.progress=this.curProgress/100},s.onBtnNormalClick=function(){B.addGold(p.CLICK_BOX_REWARD),this.close()},s.onBtnDoubleClick=function(){var e=this;B.openReward(f.SHARE_FUNCTION.CLICK_BOX,(function(i){i||(B.addGold(2*p.CLICK_BOX_REWARD),e.close())}))},s.close=function(){g.instance.hideDialog("fight/clickBox")},i}(d)).prototype,"progress",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(x.prototype,"nodeReward",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(x.prototype,"lbReward",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(x.prototype,"nodeBox",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(x.prototype,"nodeMenu",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(x.prototype,"nodeClickBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(x.prototype,"spIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=x))||_));s._RF.pop()}}}));

System.register("chunks:///_virtual/signInItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./resourceUtil.ts","./constant.ts","./localConfig.ts","./playerData.ts","./uiManager.ts","./gameLogic.ts"],(function(t){"use strict";var e,i,n,r,s,o,a,l,u,c,I,f,h,p,m,S,g,R,d,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.defineProperty},function(t){o=t.cclegacy,a=t._decorator,l=t.SpriteFrame,u=t.Sprite,c=t.Node,I=t.Label,f=t.Animation,h=t.Component},function(t){p=t.clientEvent},function(t){m=t.resourceUtil},function(t){S=t.constant},function(t){g=t.localConfig},function(t){R=t.playerData},function(t){d=t.uiManager},function(t){b=t.gameLogic}],execute:function(){var A,D,E,_,N,w,T,y,F,L,v,G,C,B,U,k,W,z,P,V,Y,O,H;o._RF.push({},"8a6efh8jF9Js7ZZXyAL57KG","signInItem",void 0);var q=a.ccclass,x=a.property;t("signInItem",(A=q("signInItem"),D=x(l),E=x(l),_=x(u),N=x(l),w=x(c),T=x(c),y=x(c),F=x(I),L=x(c),v=x(I),A((B=e((C=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(r(e),"sfBgBlue",B,r(e)),n(r(e),"sfYellow",U,r(e)),n(r(e),"spReward",k,r(e)),n(r(e),"sfGold",W,r(e)),n(r(e),"nodeTick",z,r(e)),n(r(e),"nodeBtnFillSign",P,r(e)),n(r(e),"nodeBtnAfterFillSign",V,r(e)),n(r(e),"lbDayIndex",Y,r(e)),n(r(e),"nodeLight",O,r(e)),n(r(e),"lbValue",H,r(e)),s(r(e),"_parent",null),s(r(e),"itemInfo",null),s(r(e),"isHadCar",null),e}i(e,t);var o=e.prototype;return o.start=function(){},o.init=function(t,e){this._parent=e,this.itemInfo=t,this.lbValue.string=t.rewardType===S.REWARD_TYPE.CAR?"":String(t.amount),this.lbDayIndex.string=String(t.ID),this.setIcon(t.rewardType),this.setStatus(t.status),this.node.getComponent(u).spriteFrame=Number(t.ID)>=7?this.sfBgBlue:this.sfYellow},o.setIcon=function(t){switch(t){case S.REWARD_TYPE.DIAMOND:break;case S.REWARD_TYPE.GOLD:this.spReward.spriteFrame=this.sfGold;break;case S.REWARD_TYPE.CAR:var e=g.instance.queryByID("car",this.itemInfo.amount).model;R.instance.isHadCarAndDuringPeriod(this.itemInfo.amount)?(this.spReward.spriteFrame=this.sfGold,2==this.itemInfo.ID?this.lbValue.string=String(S.GOLD_REWARD.SECOND):7==this.itemInfo.ID&&(this.lbValue.string=String(S.GOLD_REWARD.SEVENT))):m.setCarIcon(e,this.spReward,!1,(function(){}))}},o.setStatus=function(t){switch(t){case S.SIGNIN_REWARD_STATUS.RECEIVED:this.showItemUI(!1,!0,!1,!1);break;case S.SIGNIN_REWARD_STATUS.RECEIVABLE:this.showItemUI(!0,!1,!1,!1);break;case S.SIGNIN_REWARD_STATUS.UNRECEIVABLE:this.showItemUI(!1,!1,!1,!1);break;case S.SIGNIN_REWARD_STATUS.FILL_SIGNIN:this.showItemUI(!1,!1,!0,!1);break;case S.SIGNIN_REWARD_STATUS.AFTER_FILL_SIGNIN:this.showItemUI(!0,!1,!1,!0)}},o.showItemUI=function(t,e,i,n){this.nodeLight.active=t;var r=this.nodeLight.getComponent(f);t?r.play():r.stop(),this.nodeTick.active=e,this.nodeBtnFillSign.active=i,this.nodeBtnAfterFillSign.active=n},o.onBtnAfterFillSignClick=function(){this.itemInfo.status!==S.SIGNIN_REWARD_STATUS.AFTER_FILL_SIGNIN&&this.itemInfo.status!==S.SIGNIN_REWARD_STATUS.RECEIVABLE||this._parent.receiveReward(this.itemInfo,!1,this.markReceived.bind(this))},o.markReceived=function(){this.itemInfo.status=S.SIGNIN_REWARD_STATUS.RECEIVED,this.setStatus(this.itemInfo.status),2!==this.itemInfo.ID&&7!==this.itemInfo.ID||this.isHadCar||R.instance.updateDictGetCarTime(this.itemInfo.amount),this.itemInfo.ID&&(R.instance.updateSignInReceivedDays(this.itemInfo.ID),p.dispatchEvent("updateSignIn")),this.close()},o.close=function(){d.instance.shiftFromPopupSeq("common/showReward"),R.instance.getSignInReceivedInfo().isAllReceived?d.instance.shiftFromPopupSeq("common/showReward"):d.instance.pushToPopupSeq("signIn/signIn","signIn",{})},o.markAfterFillSignIn=function(){this.itemInfo.status=S.SIGNIN_REWARD_STATUS.AFTER_FILL_SIGNIN,this.setStatus(this.itemInfo.status),R.instance.updateSignInFillSignInDays(this.itemInfo.ID,!1)},o.onBtnFillSignInClick=function(){var t=this;b.openReward(S.SHARE_FUNCTION.FILL_SIGNIN,(function(e){e||t.markAfterFillSignIn()}))},e}(h)).prototype,"sfBgBlue",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(C.prototype,"sfYellow",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(C.prototype,"spReward",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(C.prototype,"sfGold",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(C.prototype,"nodeTick",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(C.prototype,"nodeBtnFillSign",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(C.prototype,"nodeBtnAfterFillSign",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(C.prototype,"lbDayIndex",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(C.prototype,"nodeLight",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(C.prototype,"lbValue",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=C))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/lodash.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var n,t,e;return{setters:[function(r){n=r.defineProperty},function(r){t=r.cclegacy,e=r._decorator}],execute:function(){var i,u,o;t._RF.push({},"8cbacDdVTBOgZQMyvQzOeAz","lodash",void 0);var f=e.ccclass;r("lodash",f("lodash")((o=u=function(){function r(){}return r.find=function(r,n){var t;if(Array.isArray(r)||(r=this.toArray(r)),(t=r.filter(n)).length)return t[0]},r.forEach=function(r,n){Array.isArray(r)?r.forEach(n):this.toArrayKey(r).forEach((function(t,e,i){var u=t.key,o=t.value;n(o,u,r)}))},r.cloneDeep=function(r){if(null===r||"object"!=typeof r)return r;var n={};for(var t in r.constructor===Array&&(n=[]),r)r.hasOwnProperty(t)&&(n[t]=this.cloneDeep(r[t]));return n},r.map=function(r,n){Array.isArray(r)||(r=this.toArray(r));var t=[];return r.forEach((function(r,e,i){t.push(n(r,e,i))})),t},r.random=function(r,n){var t=Math.random()*(n-r+1)+r;return Math.floor(t)},r.toArrayKey=function(r){var n=[];for(var t in r)r.hasOwnProperty(t)&&n.push({key:t,value:r[t]});return n},r.toArray=function(r){var n=[];for(var t in r)r.hasOwnProperty(t)&&n.push(r[t]);return n},r.filter=function(r,n){return Array.isArray(r)||(r=this.toArray(r)),r.filter(n)},r.isEqual=function(r,n){if(!(r instanceof Object)||!(n instanceof Object))return r===n;if(Object.keys(r).length!==Object.keys(n).length)return!1;for(var t in r){var e=r[t]instanceof Object,i=n[t]instanceof Object;if(e&&i)return this.isEqual(r[t],n[t]);if(r[t]!==n[t])return!1}return!0},r.pullAllWith=function(r,n,t){return n.forEach((function(n){r.filter((function(r){return t(r,n)})).forEach((function(n){var t=r.indexOf(n);-1!==r.indexOf(n)&&r.splice(t,1)}))})),r},r.now=function(){return Date.now()},r.pullAll=function(r,n){return n.forEach((function(n){var t=r.indexOf(n);-1!==r.indexOf(n)&&r.splice(t,1)})),r},r.forEachRight=function(r,n){Array.isArray(r)||(r=this.toArray(r));for(var t=r.length-1;t>=0;t--){if(!n(r[t]))break}},r.startsWith=function(r,n,t){return(r=r.substr(t)).startsWith(n)},r.endsWith=function(r,n,t){return(r=r.substr(t)).endsWith(n)},r.remove=function(r,n){var t=[],e=[];return r.forEach((function(r,i){n(r)&&(t.push(r),e.push(i))})),this.basePullAt(r,e),t},r.basePullAt=function(r,n){for(var t,e=r?n.length:0,i=e-1;e--;){var u=n[e];e!==i&&u===t||(t=u,Array.prototype.splice.call(r,u,1))}return r},r.findIndex=function(r,n,t){var e;if(r=r.slice(t),"function"==typeof n){for(e=0;e<r.length;e++)if(n(r[e]))return e}else if(Array.isArray(n))for(e=0;e<r.length;e++){var i=n[0],u=!0;if(n.length>1&&(u=n[1]),r[e][i]===u)return e}else for(e=0;e<r.length;e++)if(r[e]===n)return e;return-1},r.concat=function(){var r=arguments.length;if(!r)return[];for(var n=arguments[0],t=1;t<r;)n=n.concat(arguments[t]),t++;return n},r.isNumber=function(r){return"number"==typeof r},r.indexOf=function(r,n,t){return(r=r.slice(t)).indexOf(n)},r.join=function(r,n){if(null===r)return"";var t="";return r.forEach((function(r){t+=r+n})),t.substr(0,t.length-1)},r.split=function(r,n,t){return r.split(n,t)},r.max=function(r){if(r&&r.length){for(var n,t=0;t<r.length;t++)0===t?n=r[0]:n<r[t]&&(n=r[t]);return n}},r.drop=function(r,n){return(null===r?0:r.length)?r.slice(n):[]},r.flattenDeep=function(r){return r.reduce((function(r,n){return r.concat(n)}))},r.uniq=function(r){var n=[];return r.forEach((function(r){-1===n.indexOf(r)&&n.push(r)})),n},r.isNaN=function(r){return this.isNumber(r)&&r!==+r},r.chunk=function(r,n){if(!(null===r?0:r.length)||n<1)return[];for(var t=[];r.length>n;)t.push(r.slice(0,n)),r=r.slice(n);return t.push(r),t},r.toFinite=function(r){var n=1/0;return r?(r=Number(r))===n||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0},r.baseRange=function(r,n,t,e){for(var i=-1,u=(0,Math.max)((0,Math.ceil)((n-r)/(t||1)),0),o=Array(u);u--;)o[e?u:++i]=r,r+=t;return o},r.isObject=function(r){var n=typeof r;return null!==r&&("object"===n||"function"===n)},r.isLength=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=r.MAX_SAFE_INTEGER},r.isArrayLike=function(r){return null!==r&&this.isLength(r.length)},r.eq=function(r,n){return r===n||r!=r&&n!=n},r.isIndex=function(n,t){var e=typeof n;return!!(t=null===t?r.MAX_SAFE_INTEGER:t)&&("number"===e||"symbol"!==e&&/^(?:0|[1-9]\d*)$/.test(n))&&n>-1&&n%1==0&&n<t},r.isIterateeCall=function(r,n,t){if(!this.isObject(t))return!1;var e=typeof n;return!!("number"===e?this.isArrayLike(t)&&this.isIndex(n,t.length):"string"===e&&n in t)&&this.eq(t[n],r)},r.createRange=function(r){var n=this;return function(t,e,i){return i&&"number"!=typeof i&&n.isIterateeCall(t,e,i)&&(e=i=void 0),t=n.toFinite(t),void 0===e?(e=t,t=0):e=n.toFinite(e),i=void 0===i?t<e?1:-1:n.toFinite(i),n.baseRange(t,e,i,r)}.bind(this)},r.maxBy=function(r,n){if(r&&r.length){for(var t=-1,e=-1,i=0;i<r.length;i++)0===i?(t=n(r[0]),e=r[0]):t<r[i]&&(t=r[i],e=r[i]);return e}},r.minBy=function(r,n){if(r&&r.length){for(var t=-1,e=-1,i=0;i<r.length;i++)0===i?(t=n(r[0]),e=r[0]):t>r[i]&&(t=n(r[i]),e=r[i]);return e}},r.sumBy=function(r,n){var t=0;for(var e in r)t+=n(r[e]);return t},r.countBy=function(r){var n={};for(var t in r){var e=r[t];n.hasOwnProperty(e)?n[e]+=1:n[e]=1}return n},r}(),n(u,"MAX_SAFE_INTEGER",9007199254740991),i=o))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/poolManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,n,i,r,a;return{setters:[function(t){e=t.defineProperty,o=t.createClass},function(t){n=t.cclegacy,i=t._decorator,r=t.instantiate,a=t.NodePool}],execute:function(){var c,s,l;n._RF.push({},"907776q4iZNubarZf3Ut3A8","poolManager",void 0);var u=i.ccclass;i.property,t("poolManager",u("poolManager")((l=s=function(){function t(){e(this,"dictPool",{}),e(this,"dictPrefab",{})}var n=t.prototype;return n.getNode=function(t,e){var o,n=t.data.name;if(this.dictPrefab[n]=t,this.dictPool.hasOwnProperty(n)){var i=this.dictPool[n];o=i.size()>0?i.get():r(t)}else{var c=new a;this.dictPool[n]=c,o=r(t)}return o.parent=e,o},n.putNode=function(t){var e=t.name,o=null;this.dictPool.hasOwnProperty(e)?o=this.dictPool[e]:(o=new a,this.dictPool[e]=o),o.put(t)},n.clearPool=function(t){this.dictPool.hasOwnProperty(t)&&this.dictPool[t].clear()},o(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}(),e(s,"_instance",void 0),c=l))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteFrameSet.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,i,a,n,o;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.defineProperty,i=e.initializerDefineProperty},function(e){a=e.cclegacy,n=e._decorator,o=e.SpriteFrame}],execute:function(){var p,u,c,l,s,f;a._RF.push({},"93cd23dxExEBLbD/xbMp1PN","SpriteFrameSet",void 0);var m=n.ccclass,S=n.property;e("default",(p=m("SpriteFrameSet"),u=S({type:o}),p((s=r((l=function(){t(this,"name","SpriteFrameSet"),i(this,"language",s,this),i(this,"spriteFrame",f,this)}).prototype,"language",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=r(l.prototype,"spriteFrame",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=l))||c));a._RF.pop()}}}));

System.register("chunks:///_virtual/lotteryItem.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./constant.ts","./localConfig.ts","./playerData.ts","./uiManager.ts","./LanguageData.ts"],(function(t){"use strict";var e,n,r,o,i,a,c,l,s,u,f,p,h,m,y,I,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.defineProperty},function(t){a=t.cclegacy,c=t._decorator,l=t.SpriteFrame,s=t.Sprite,u=t.Label,f=t.Component},function(t){p=t.resourceUtil},function(t){h=t.constant},function(t){m=t.localConfig},function(t){y=t.playerData},function(t){I=t.uiManager},function(t){w=t.i18n}],execute:function(){var d,g,D,R,b,v,C,T,E;a._RF.push({},"93fc8seXTpPJqvHF6Jlpios","lotteryItem",void 0);var _=c.ccclass,L=c.property;t("lotteryItem",(d=_("lotteryItem"),g=L(l),D=L(s),R=L(u),d((C=e((v=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,r(o(e),"imgGold",C,o(e)),r(o(e),"spItem",T,o(e)),r(o(e),"lbValue",E,o(e)),i(o(e),"carInfo",void 0),e}n(e,t);var a=e.prototype;return a.start=function(){},a.show=function(t){this.carInfo=m.instance.queryByID("car",t),p.setCarIcon(this.carInfo.model,this.spItem,!1,(function(){}))},a.showReward=function(t){if(console.log(this.carInfo.ID),y.instance.hasCar(this.carInfo.ID)){var e={rewardType:h.REWARD_TYPE.GOLD,amount:h.LOTTERY.EXCHANGE,ID:this.carInfo.ID};I.instance.showDialog("common/showReward",[e,!1,w.t("showReward.title"),function(){},w.t("showReward.alreadyHadCar")])}else{var n={rewardType:h.REWARD_TYPE.CAR,amount:1,ID:this.carInfo.ID};I.instance.showDialog("common/showReward",[n,!1,w.t("showReward.title"),function(){t.receiveCarTimes+=1}])}},e}(f)).prototype,"imgGold",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(v.prototype,"spItem",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(v.prototype,"lbValue",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=v))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/roadPoint.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./fightConstants.ts","./resourceUtil.ts"],(function(e){"use strict";var t,i,r,n,a,o,s,l,u,c,p,T,d,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.defineProperty},function(e){o=e.cclegacy,s=e._decorator,l=e.Enum,u=e.Node,c=e.Vec3,p=e.macro,T=e.Component},function(e){d=e.fightConstants},function(e){y=e.resourceUtil}],execute:function(){var _,O,h,f,P,A,b,E,R,N,I,m,D,g,v,Y,C,G,w,S,z;e({ROAD_MOVE_TYPE:void 0,ROAD_POINT_TYPE:void 0}),o._RF.push({},"953fazcJb1LuJlDQlkFCkFG","roadPoint",void 0);var M,F,L=s.ccclass,V=s.property;!function(e){e[e["普通节点"]=d.ROAD_POINT_TYPE.NORMAL]="普通节点",e[e["开始节点"]=d.ROAD_POINT_TYPE.START]="开始节点",e[e["接客节点"]=d.ROAD_POINT_TYPE.GREETING]="接客节点",e[e["送客节点"]=d.ROAD_POINT_TYPE.PLATFORM]="送客节点",e[e["结束节点"]=d.ROAD_POINT_TYPE.END]="结束节点",e[e["AI开始节点"]=d.ROAD_POINT_TYPE.AI_START]="AI开始节点"}(M||(M=e("ROAD_POINT_TYPE",{}))),l(M),function(e){e[e["直线行走"]=d.ROAD_MOVE_TYPE.LINE]="直线行走",e[e["曲线行走"]=d.ROAD_MOVE_TYPE.BEND]="曲线行走"}(F||(F=e("ROAD_MOVE_TYPE",{}))),l(F);e("roadPoint",(_=L("roadPoint"),O=V({displayName:"类型",type:M,displayOrder:1}),h=V({displayName:"下一站",type:u,displayOrder:2}),f=V({displayName:"行走方式",type:F,displayOrder:3}),P=V({displayName:"顺时针",displayOrder:4,visible:function(){return this.moveType===d.ROAD_MOVE_TYPE.BEND}}),A=V({displayName:"顾客方向",displayOrder:4,visible:function(){return this.type===d.ROAD_POINT_TYPE.GREETING||this.type===d.ROAD_POINT_TYPE.PLATFORM}}),b=V({displayName:"延迟生成/秒",displayOrder:5,visible:function(){return this.type===d.ROAD_POINT_TYPE.AI_START}}),E=V({displayName:"生成频率/秒",displayOrder:5,visible:function(){return this.type===d.ROAD_POINT_TYPE.AI_START}}),R=V({displayName:"车辆行驶速度",displayOrder:5,visible:function(){return this.type===d.ROAD_POINT_TYPE.AI_START}}),N=V({displayName:"产生车辆(,分隔)",displayOrder:5,visible:function(){return this.type===d.ROAD_POINT_TYPE.AI_START}}),_((D=t((m=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,r(n(t),"type",D,n(t)),r(n(t),"next",g,n(t)),r(n(t),"moveType",v,n(t)),r(n(t),"clockwise",Y,n(t)),r(n(t),"direction",C,n(t)),r(n(t),"delayTime",G,n(t)),r(n(t),"genInterval",w,n(t)),r(n(t),"carSpeed",S,n(t)),r(n(t),"cars",z,n(t)),a(n(t),"arrCars",[]),a(n(t),"_generateCb",null),t}i(t,e);var o=t.prototype;return o.start=function(){this.arrCars=this.cars.split(",")},o.startGenerateCar=function(e){this.type===d.ROAD_POINT_TYPE.AI_START&&(this._generateCb=e,this.stopGenerateCar(),this.scheduleOnce(this.delayStartGen,this.delayTime),y.getCarsBatch(this.arrCars,(function(){}),(function(){})))},o.delayStartGen=function(){this.scheduleGen(),this.schedule(this.scheduleGen,this.genInterval,p.REPEAT_FOREVER)},o.scheduleGen=function(){var e=Math.floor(Math.random()*this.arrCars.length);this._generateCb&&this._generateCb(this,this.arrCars[e])},o.stopGenerateCar=function(){this.unschedule(this.delayStartGen),this.unschedule(this.scheduleGen)},t}(T)).prototype,"type",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.普通节点}}),g=t(m.prototype,"next",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(m.prototype,"moveType",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.直线行走}}),Y=t(m.prototype,"clockwise",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=t(m.prototype,"direction",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),G=t(m.prototype,"delayTime",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=t(m.prototype,"genInterval",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),S=t(m.prototype,"carSpeed",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),z=t(m.prototype,"cars",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"201"}}),I=m))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/revive.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./constant.ts","./uiManager.ts","./gameLogic.ts"],(function(n){"use strict";var i,t,e,o,r,c,s,u,a,l,p,f,g,v;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized,r=n.defineProperty},function(n){c=n.cclegacy,s=n._decorator,u=n.Sprite,a=n.Widget,l=n.Component},function(n){p=n.clientEvent},function(n){f=n.constant},function(n){g=n.uiManager},function(n){v=n.gameLogic}],execute:function(){var h,w,C,d,D,b,y,m,I;c._RF.push({},"95f63L653dBgLBdIgYWzpHv","revive",void 0);var R=s.ccclass,E=s.property;n("revive",(h=R("revive"),w=E(u),C=E(u),d=E(a),h((y=i((b=function(n){function i(){for(var i,t=arguments.length,c=new Array(t),s=0;s<t;s++)c[s]=arguments[s];return i=n.call.apply(n,[this].concat(c))||this,e(o(i),"spCountDown",y,o(i)),e(o(i),"spIcon",m,o(i)),e(o(i),"wgMenu",I,o(i)),r(o(i),"closeCb",null),r(o(i),"countDownTime",0),r(o(i),"currentTime",0),r(o(i),"isCountDowning",!1),i}t(i,n);var c=i.prototype;return c.start=function(){},c.show=function(n){this.closeCb=n,this.countDownTime=5,this.currentTime=0,this.spCountDown.fillRange=1,this.isCountDowning=!0,v.updateRewardIcon(f.SHARE_FUNCTION.RELIVE,this.spIcon)},c.onBtnReviveClick=function(){var n=this;this.isCountDowning=!1,v.openReward(f.SHARE_FUNCTION.RELIVE,(function(i){i?n.isCountDowning=!0:(p.dispatchEvent("revive"),g.instance.hideDialog("fight/revive"))}))},c.onBtnSkipClick=function(){this.isCountDowning=!1,g.instance.hideDialog("fight/revive"),this.closeCb&&this.closeCb()},i}(l)).prototype,"spCountDown",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(b.prototype,"spIcon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(b.prototype,"wgMenu",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=b))||D));c._RF.pop()}}}));

System.register("chunks:///_virtual/blockInputEvent.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,n,i,s,e;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,s=t.Node,e=t.Component}],execute:function(){var p;n._RF.push({},"968ba6c9F9AupY/AbKjAj++","blockInputEvent",void 0);var h=i.ccclass;i.property,t("blockInputEvent",h("blockInputEvent")(p=function(t){function n(){return t.apply(this,arguments)||this}o(n,t);var i=n.prototype;return i.start=function(){},i.onEnable=function(){this.node.on(s.EventType.TOUCH_START,this.stopPropagation,this),this.node.on(s.EventType.TOUCH_END,this.stopPropagation,this),this.node.on(s.EventType.TOUCH_MOVE,this.stopPropagation,this),this.node.on(s.EventType.TOUCH_CANCEL,this.stopPropagation,this),this.node.on(s.EventType.MOUSE_DOWN,this.stopPropagation,this),this.node.on(s.EventType.MOUSE_ENTER,this.stopPropagation,this),this.node.on(s.EventType.MOUSE_MOVE,this.stopPropagation,this),this.node.on(s.EventType.MOUSE_LEAVE,this.stopPropagation,this),this.node.on(s.EventType.MOUSE_UP,this.stopPropagation,this),this.node.on(s.EventType.MOUSE_WHEEL,this.stopPropagation,this)},i.onDisable=function(){this.node.off(s.EventType.TOUCH_START,this.stopPropagation,this),this.node.off(s.EventType.TOUCH_END,this.stopPropagation,this),this.node.off(s.EventType.TOUCH_MOVE,this.stopPropagation,this),this.node.off(s.EventType.TOUCH_CANCEL,this.stopPropagation,this),this.node.off(s.EventType.MOUSE_DOWN,this.stopPropagation,this),this.node.off(s.EventType.MOUSE_ENTER,this.stopPropagation,this),this.node.off(s.EventType.MOUSE_MOVE,this.stopPropagation,this),this.node.off(s.EventType.MOUSE_LEAVE,this.stopPropagation,this),this.node.off(s.EventType.MOUSE_UP,this.stopPropagation,this),this.node.off(s.EventType.MOUSE_WHEEL,this.stopPropagation,this)},i.stopPropagation=function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0},n}(e))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/playerData.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./configuration.ts","./constant.ts","./util.ts","./localConfig.ts"],(function(e){"use strict";var n,t,a,i,r,s,o,l,f,I,h;return{setters:[function(e){n=e.defineProperty,t=e.inheritsLoose,a=e.assertThisInitialized,i=e.createClass},function(e){r=e.cclegacy,s=e._decorator,o=e.Component},function(e){l=e.configuration},function(e){f=e.constant},function(e){I=e.util},function(e){h=e.localConfig}],execute:function(){var y,c,p;r._RF.push({},"985d59n5DNIrIcY9mIscZXN","playerData",void 0);var u=s.ccclass;s.property,e("playerData",u("playerData")((p=c=function(e){function r(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(a(t),"serverTime",0),n(a(t),"localTime",0),n(a(t),"showCar",0),n(a(t),"isComeFromBalance",!1),n(a(t),"userId",""),n(a(t),"playerInfo",{}),n(a(t),"history",null),n(a(t),"settings",null),n(a(t),"isNewBee",!1),n(a(t),"dataVersion",""),n(a(t),"signInInfo",null),t}t(r,e);var s=r.prototype;return s.loadGlobalCache=function(){var e=l.instance.getUserId();e&&(this.userId=e)},s.loadFromCache=function(){this.playerInfo=this.loadDataByKey(f.LOCAL_CACHE.PLAYER),this.playerInfo.currentCar?this.showCar=this.playerInfo.currentCar:this.showCar=f.INITIAL_CAR,this.history=this.loadDataByKey(f.LOCAL_CACHE.HISTORY),this.settings=this.loadDataByKey(f.LOCAL_CACHE.SETTINGS)},s.loadDataByKey=function(e){var n={},t=l.instance.getConfigData(e);if(t)try{n=JSON.parse(t)}catch(e){n={}}return n},s.createPlayerInfo=function(e){if(this.playerInfo.level=1,this.playerInfo.gold=0,this.playerInfo.realLevel=1,this.playerInfo.passCheckPoint=!1,this.playerInfo.createDate=new Date,this.playerInfo.currentCar=f.INITIAL_CAR,this.playerInfo.cars=[],this.playerInfo.cars.push(f.INITIAL_CAR),this.playerInfo.dictBuyTask={},this.showCar=this.playerInfo.currentCar,this.isNewBee=!0,this.playerInfo.signInInfo={},this.playerInfo.dictGetCarTime={},e)for(var n in e)this.playerInfo[n]=e[n];this.savePlayerInfoToLocalCache()},s.saveAccount=function(e){this.userId=e,l.instance.setUserId(e)},s.savePlayerInfoToLocalCache=function(){l.instance.setConfigData(f.LOCAL_CACHE.PLAYER,JSON.stringify(this.playerInfo))},s.saveAll=function(){l.instance.setConfigDataWithoutSave(f.LOCAL_CACHE.PLAYER,JSON.stringify(this.playerInfo)),l.instance.setConfigDataWithoutSave(f.LOCAL_CACHE.HISTORY,JSON.stringify(this.history)),l.instance.setConfigDataWithoutSave(f.LOCAL_CACHE.SETTINGS,JSON.stringify(this.settings)),l.instance.setConfigData(f.LOCAL_CACHE.DATA_VERSION,this.dataVersion)},s.updatePlayerInfo=function(e,n){var t=!1;this.playerInfo.hasOwnProperty(e)&&("number"==typeof n?(t=!0,this.playerInfo[e]+=n,this.playerInfo[e]<0&&(this.playerInfo[e]=0)):"boolean"!=typeof n&&"string"!=typeof n||(t=!0,this.playerInfo[e]=n)),t&&l.instance.setConfigData(f.LOCAL_CACHE.PLAYER,JSON.stringify(this.playerInfo))},s.updateSignInCurrentDay=function(){if(0===Object.keys(this.playerInfo.signInInfo).length||this.isNeedRecycleSignInInfo())this.createNewSignInInfo();else{var e=I.getDeltaDays(this.playerInfo.signInInfo.signInDate,Date.now());if(0===e)return;this.updateSignInFillSignInDays(0,!0),this.playerInfo.signInInfo.currentDay+=e,this.playerInfo.signInInfo.currentDay<=0&&this.createNewSignInInfo(),this.playerInfo.signInInfo.currentDay>f.MAX_SIGNIN_DAY?f.MAX_SIGNIN_DAY:this.playerInfo.signInInfo.currentDay,this.playerInfo.signInInfo.signInDate=Date.now()}this.savePlayerInfoToLocalCache()},s.createNewSignInInfo=function(){this.playerInfo.hasOwnProperty("signInInfo")||(this.playerInfo.signInInfo={},this.playerInfo.dictGetCarTime={});var e=this.playerInfo.signInInfo;e.createDate=Date.now(),e.signInDate=Date.now(),e.currentDay=1,e.receivedDays=[],e.afterFillSignInDays=[],this.savePlayerInfoToLocalCache()},s.isNeedRecycleSignInInfo=function(){this.playerInfo.signInInfo||this.createNewSignInInfo();var e=!1;return I.getDeltaDays(this.playerInfo.signInInfo.createDate,Date.now())>=f.MAX_SIGNIN_DAY&&(e=!0),e},s.updateSignInReceivedDays=function(e){var n=this.playerInfo.signInInfo.receivedDays;Array.isArray(n)&&n.includes(e)||(n.push(Number(e)),this.savePlayerInfoToLocalCache())},s.updateSignInFillSignInDays=function(e,n){var t=this.playerInfo.signInInfo.afterFillSignInDays;if(n)t.length=0;else{if(Array.isArray(t)&&t.includes(e))return;t.push(Number(e))}this.savePlayerInfoToLocalCache()},s.getSignInReceivedInfo=function(){this.playerInfo.signInInfo||this.createNewSignInInfo();var e=this.playerInfo.signInInfo;return{isAllReceived:!(e.receivedDays.length<e.currentDay),isTodayReceived:!!e.receivedDays.includes(e.currentDay)}},s.isHadCarAndDuringPeriod=function(e){var n=this.playerInfo.signInInfo.createDate;this.playerInfo.dictGetCarTime||(this.playerInfo.dictGetCarTime={});var t=this.playerInfo.dictGetCarTime[e];return-1!==this.playerInfo.cars.indexOf(e)&&t&&t<n},s.updateDictGetCarTime=function(e){this.playerInfo.dictGetCarTime||(this.playerInfo.dictGetCarTime={}),this.playerInfo.dictGetCarTime[e]=this.playerInfo.signInInfo.createDate,l.instance.setConfigData(f.LOCAL_CACHE.PLAYER,JSON.stringify(this.playerInfo))},s.getLastOnlineRewardTime=function(){return this.playerInfo.onlineRewardTime||(this.playerInfo.onlineRewardTime=this.getCurrentTime(),this.savePlayerInfoToLocalCache()),this.playerInfo.onlineRewardTime},s.updateLastOnlineRewardTime=function(e){var n=this.getCurrentTime()-1e3*e;this.playerInfo.onlineRewardTime=n,this.savePlayerInfoToLocalCache()},s.syncServerTime=function(e){this.serverTime=e,this.localTime=Date.now()},s.getCurrentTime=function(){var e=Date.now()-this.localTime;return this.serverTime+e},s.hasCar=function(e){return e===f.INITIAL_CAR||(this.playerInfo.cars||(this.playerInfo.cars=[f.INITIAL_CAR]),-1!==this.playerInfo.cars.indexOf(e))},s.hasCarCanReceived=function(){for(var e=h.instance.getCars(),n=0;n<e.length;n++){var t=e[n];if(t.type!==f.BUY_CAR_TYPE.GOLD&&t.type!==f.BUY_CAR_TYPE.SIGNIN&&(!this.hasCar(t.ID)&&this.playerInfo.dictBuyTask&&this.playerInfo.dictBuyTask.hasOwnProperty(t.type)&&this.playerInfo.dictBuyTask[t.type]>=t.num))return!0}return!1},s.finishBuyTask=function(e,n,t){this.playerInfo.dictBuyTask||(this.playerInfo.dictBuyTask={}),this.playerInfo.dictBuyTask.hasOwnProperty(e)&&t?this.playerInfo.dictBuyTask[e]+=n:this.playerInfo.dictBuyTask[e]=n,this.savePlayerInfoToLocalCache()},s.getBuyTypeProgress=function(e){return this.playerInfo.dictBuyTask&&this.playerInfo.dictBuyTask.hasOwnProperty(e)?this.playerInfo.dictBuyTask[e]:0},s.getCurrentCar=function(){return this.playerInfo.currentCar||(this.playerInfo.currentCar=f.INITIAL_CAR),this.playerInfo.currentCar},s.useCar=function(e){return!!this.hasCar(e)&&(this.playerInfo.currentCar=e,this.savePlayerInfoToLocalCache(),this.showCar=this.playerInfo.currentCar,!0)},s.buyCar=function(e){return-1!==this.playerInfo.cars.indexOf(e)||(this.playerInfo.cars.push(e),this.savePlayerInfoToLocalCache()),!0},s.clear=function(){this.playerInfo={},this.settings={},this.saveAll()},s.passLevel=function(e){this.playerInfo.level++,this.playerInfo.gold+=e,console.log("###1 this.playerInfo.level",this.playerInfo.level,"this.playerInfo.realLevel",this.playerInfo.realLevel),this.playerInfo.passCheckPoint?(this.playerInfo.realLevel=this.getRandLevel(),console.log("###3 this.playerInfo.level",this.playerInfo.level,"this.playerInfo.realLevel",this.playerInfo.realLevel)):this.playerInfo.level>=f.MAX_LEVEL?(this.playerInfo.realLevel=f.MAX_LEVEL,this.playerInfo.level=f.MAX_LEVEL,this.playerInfo.passCheckPoint=!0,console.log("###2 this.playerInfo.level",this.playerInfo.level,"this.playerInfo.realLevel",this.playerInfo.realLevel)):this.playerInfo.realLevel=this.playerInfo.level,this.savePlayerInfoToLocalCache()},s.getRandLevel=function(){for(var e=-1;-1===e;){var n=16+Math.floor(5*Math.random());n!==this.playerInfo.realLevel&&(e=n)}return e},i(r,null,[{key:"instance",get:function(){return this._instance||(this._instance=new r),this._instance}}]),r}(o),n(c,"_instance",void 0),y=p))||y);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameRoot.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./audioManager.ts","./setting.ts"],(function(t){"use strict";var e,o,n,i,a,r,c,s,u,l,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.AudioSource,s=t.assert,u=t.game,l=t.Component},function(t){p=t.audioManager},function(t){d=t.setting}],execute:function(){var f,h,y,g,m;a._RF.push({},"98dcdQl8GhEYLJRG8ap+Eh+","GameRoot",void 0);var _=r.ccclass,v=r.property;t("GameRoot",(f=_("GameRoot"),h=v(c),f((m=e((g=function(t){function e(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(i(e),"_audioSource",m,i(e)),e}o(e,t);var a=e.prototype;return a.onLoad=function(){var t=this.getComponent(c);s(t),this._audioSource=t,u.addPersistRootNode(this.node),p.instance.init(this._audioSource)},a.onEnable=function(){p.instance.playMusic(!0),d.checkState()},a.start=function(){"undefined"!=typeof cocosAnalytics&&cocosAnalytics.enableDebug(!0)},e}(l)).prototype,"_audioSource",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/loading.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./updateValueLabel.ts"],(function(r){"use strict";var t,e,s,i,o,n,a,l,u,g,c;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.inheritsLoose,s=r.initializerDefineProperty,i=r.assertThisInitialized,o=r.defineProperty},function(r){n=r.cclegacy,a=r._decorator,l=r.Label,u=r.Vec3,g=r.Component},function(r){c=r.updateValueLabel}],execute:function(){var p,h,P,b,d,f,y;n._RF.push({},"99c5fx0klFHq52oGPdZL7Z5","loading",void 0);var v=a.ccclass,w=a.property;r("loading",(p=v("loading"),h=w(c),P=w(l),p((f=t((d=function(r){function t(){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=r.call.apply(r,[this].concat(n))||this,s(i(t),"lbProgress",f,i(t)),s(i(t),"lbTips",y,i(t)),o(i(t),"targetProgress",0),o(i(t),"oriPos",new u),t}e(t,r);var n=t.prototype;return n.start=function(){this.show(0)},n.show=function(r){this.targetProgress=r||0,this.lbProgress.playUpdateValue(this.targetProgress,this.targetProgress,0),this.lbProgress.isPlaying=!1,this.lbTips.string="",this.oriPos.set(this.lbProgress.node.position)},n.updateProgress=function(r,t){this.targetProgress=r;var e=Number(this.lbProgress.label.string);this.lbProgress.playUpdateValue(e,this.targetProgress,(this.targetProgress-e)/20),t&&(this.lbTips.string=t),this.oriPos&&this.lbProgress.node.setPosition(new u(this.oriPos.x-10,this.oriPos.y,this.oriPos.z))},t}(g)).prototype,"lbProgress",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(d.prototype,"lbTips",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=d))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/signIn.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./constant.ts","./util.ts","./localConfig.ts","./playerData.ts","./uiManager.ts","./gameLogic.ts","./LanguageData.ts","./signInItem.ts"],(function(e){"use strict";var n,t,i,r,a,o,s,c,u,l,d,I,f,p,h,R,g,v,y,D,S,m,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.defineProperty},function(e){o=e.cclegacy,s=e._decorator,c=e.Node,u=e.Sprite,l=e.SpriteFrame,d=e.Prefab,I=e.Button,f=e.instantiate,p=e.Component},function(e){h=e.clientEvent},function(e){R=e.constant},function(e){g=e.util},function(e){v=e.localConfig},function(e){y=e.playerData},function(e){D=e.uiManager},function(e){S=e.gameLogic},function(e){m=e.i18n},function(e){b=e.signInItem}],execute:function(){var B,E,T,w,A,N,C,_,G,L,F,P,k,z,W,U,V,O,q,H,Y,M,x,j,J;o._RF.push({},"9d016bBiB5J1prtR6VcBPd4","signIn",void 0);var K=s.ccclass,Q=s.property;e("signIn",(B=K("signIn"),E=Q(c),T=Q(c),w=Q(c),A=Q(c),N=Q(u),C=Q(l),_=Q(l),G=Q(l),L=Q(l),F=Q(c),P=Q(d),B((W=n((z=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o))||this,i(r(n),"ndBtnNormal",W,r(n)),i(r(n),"ndBtnDouble",U,r(n)),i(r(n),"ndBtnReceive",V,r(n)),i(r(n),"ndBtnClose",O,r(n)),i(r(n),"spDoubleBtnIcon",q,r(n)),i(r(n),"sfBlue",H,r(n)),i(r(n),"sfGray",Y,r(n)),i(r(n),"sfVideo",M,r(n)),i(r(n),"sfShare",x,r(n)),i(r(n),"arrNodeDay",j,r(n)),i(r(n),"pbSignInItem",J,r(n)),a(r(n),"currentDay",0),a(r(n),"arrReceived",[]),a(r(n),"arrAfterFillSignIn",[]),a(r(n),"isTodayReceived",!1),a(r(n),"isAllReceived",!1),a(r(n),"arrSignInItemScript",[]),a(r(n),"currentReward",void 0),a(r(n),"currentRewardType",void 0),a(r(n),"isHadCar",void 0),a(r(n),"createDate",void 0),a(r(n),"getCarDate",void 0),n}t(n,e);var o=n.prototype;return o.start=function(){},o.show=function(){y.instance.updateSignInCurrentDay();var e=y.instance.playerInfo.signInInfo;this.currentDay=e.currentDay,this.arrReceived=e.receivedDays,this.arrAfterFillSignIn=e.afterFillSignInDays,S.updateRewardIcon(R.SHARE_FUNCTION.SIGNIN,this.spDoubleBtnIcon),this.showSignInInfo(),this.setButtonStyle()},o.setButtonStyle=function(){var e=y.instance.getSignInReceivedInfo();this.isTodayReceived=e.isTodayReceived,this.isAllReceived=e.isAllReceived,this.ndBtnDouble.getComponent(u).spriteFrame=this.isTodayReceived?this.sfGray:this.sfBlue,this.ndBtnDouble.getComponent(I).interactable=!this.isTodayReceived,this.ndBtnReceive.getComponent(u).spriteFrame=this.isTodayReceived?this.sfGray:this.sfBlue,this.ndBtnReceive.getComponent(I).interactable=!this.isTodayReceived;var n=v.instance.getTableArr("signIn");this.currentReward=n[this.currentDay-1],this.currentRewardType=this.currentReward.rewardType,this.currentRewardType===R.REWARD_TYPE.CAR?y.instance.isHadCarAndDuringPeriod(this.currentReward.amount)?(this.ndBtnDouble.active=!0,this.ndBtnReceive.active=!1,this.ndBtnNormal.active=!this.isTodayReceived):(this.ndBtnDouble.active=!1,this.ndBtnReceive.active=!0,this.ndBtnNormal.active=!1):(this.ndBtnDouble.active=!0,this.ndBtnReceive.active=!1,this.ndBtnNormal.active=!this.isTodayReceived)},o.showSignInInfo=function(){this.arrSignInItemScript=[];for(var e=v.instance.getTableArr("signIn"),n=0;n<e.length;n++){var t=e[n].ID,i=!!this.arrReceived.includes(t);t<=this.currentDay?(e[n].status=i?R.SIGNIN_REWARD_STATUS.RECEIVED:R.SIGNIN_REWARD_STATUS.RECEIVABLE,e[n].status===R.SIGNIN_REWARD_STATUS.RECEIVABLE&&t<this.currentDay&&(e[n].status=R.SIGNIN_REWARD_STATUS.FILL_SIGNIN,this.arrAfterFillSignIn.includes(t)&&(e[n].status=R.SIGNIN_REWARD_STATUS.AFTER_FILL_SIGNIN))):e[n].status=R.SIGNIN_REWARD_STATUS.UNRECEIVABLE;var r=this.arrNodeDay[n],a=null;r.getChildByName("signInItem")?a=r.getChildByName("signInItem"):(a=f(this.pbSignInItem),r.addChild(a));var o=a.getComponent(b);o.init(e[n],this),this.arrSignInItemScript.includes(o)||this.arrSignInItemScript.push(o)}},o.receiveReward=function(e,n,t){var i=e.ID;if(!(this.currentDay<i)){var r=m.t("showReward.signinReward"),a=g.clone(e);if(2==e.ID||7==e.ID){var o=v.instance.queryByID("car",e.amount);a.ID=o.ID,-1!==y.instance.playerInfo.cars.indexOf(o.ID)&&(a.rewardType=R.REWARD_TYPE.GOLD,a.amount=2==e.ID?R.GOLD_REWARD.SECOND:R.GOLD_REWARD.SEVENT)}if(a.amount=n?a.amount*=2:a.amount,D.instance.shiftFromPopupSeq("signIn/signIn"),a.rewardType===R.REWARD_TYPE.GOLD)return y.instance.updatePlayerInfo("gold",a.amount),S.showFlyReward(R.REWARD_TYPE.GOLD,(function(){h.dispatchEvent("updateGold")})),void(t&&t());D.instance.pushToPopupSeq("common/showReward","showReward",[a,!1,r,t])}},o.receiveClick=function(e){for(var n=this,t=function(t){var i=n.arrSignInItemScript[t];if(i.itemInfo.status===R.SIGNIN_REWARD_STATUS.RECEIVABLE)return i._parent.receiveReward(i.itemInfo,e,(function(){i.markReceived()})),"break"},i=0;i<this.arrSignInItemScript.length;i++){if("break"===t(i))break}},o.onBtnDoubleClick=function(){this.receiveClick(!0)},o.onBtnNormalClick=function(){this.receiveClick(!1)},o.onBtnReceiveClick=function(){this.receiveClick(!1)},o.onBtnCloseClick=function(){D.instance.shiftFromPopupSeq("signIn/signIn")},n}(p)).prototype,"ndBtnNormal",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(z.prototype,"ndBtnDouble",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(z.prototype,"ndBtnReceive",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(z.prototype,"ndBtnClose",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(z.prototype,"spDoubleBtnIcon",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(z.prototype,"sfBlue",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(z.prototype,"sfGray",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(z.prototype,"sfVideo",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(z.prototype,"sfShare",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(z.prototype,"arrNodeDay",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=n(z.prototype,"pbSignInItem",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=z))||k));o._RF.pop()}}}));

System.register("chunks:///_virtual/localConfig.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./csvManager.ts"],(function(n){"use strict";var r,t,e,a,s,i;return{setters:[function(n){r=n.defineProperty,t=n.createClass},function(n){e=n.cclegacy,a=n._decorator},function(n){s=n.resourceUtil},function(n){i=n.csvManager}],execute:function(){var c,o,u;e._RF.push({},"acd0cVlaIhLurmAIUS/N+2B","localConfig",void 0);var l=a.ccclass;a.property,n("localConfig",l("localConfig")((u=o=function(){function n(){r(this,"csvManager",null),r(this,"arrCars",[]),r(this,"_callback",null),r(this,"_skills",{}),r(this,"currentLoad",0),r(this,"cntLoad",0),r(this,"servers",[])}var e=n.prototype;return e.loadConfig=function(n){this._callback=n,this.csvManager=new i,this.loadCSV()},e.loadCSV=function(){var n=this,r=["talk","car","signIn"];this.cntLoad=r.length+1,r.forEach((function(r,t,e){s.getData(r,(function(t,e){n.csvManager.addTable(r,e),n.tryToCallbackOnFinished()}))})),s.getJsonData("servers",(function(r,t){n.servers=t,n.tryToCallbackOnFinished()}))},e.queryOne=function(n,r,t){return this.csvManager.queryOne(n,r,t)},e.queryByID=function(n,r){return this.csvManager.queryByID(n,r)},e.getTable=function(n){return this.csvManager.getTable(n)},e.getTableArr=function(n){return this.csvManager.getTableArr(n)},e.getCars=function(){if(this.arrCars.length>0)return this.arrCars;var r=n.instance.getTableArr("car");return this.arrCars=r.sort((function(n,r){return n.sort-r.sort})),this.arrCars},e.queryAll=function(n,r,t){return this.csvManager.queryAll(n,r,t)},e.queryIn=function(n,r,t){return this.csvManager.queryIn(n,r,t)},e.queryByCondition=function(n,r){return this.csvManager.queryByCondition(n,r)},e.tryToCallbackOnFinished=function(){this._callback&&(this.currentLoad++,this.currentLoad>=this.cntLoad&&this._callback())},e.getCurrentServer=function(){return this.servers[0]},e.getVersion=function(){var n=this.getCurrentServer();return n?n.version:"unknown"},t(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}(),r(o,"_instance",void 0),c=u))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/uiManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./poolManager.ts","./tips.ts"],(function(i){"use strict";var t,o,a,n,e,s,r,p,h;return{setters:[function(i){t=i.defineProperty,o=i.createClass},function(i){a=i.cclegacy,n=i._decorator,e=i.isValid,s=i.find},function(i){r=i.resourceUtil},function(i){p=i.poolManager},function(i){h=i.tips}],execute:function(){var c,u,l;a._RF.push({},"ae98dhzQlZL2p1SbDgvNdoJ","uiManager",void 0);var d=n.ccclass;n.property,i("uiManager",d("uiManager")((l=u=function(){function i(){t(this,"dictSharedPanel",{}),t(this,"dictLoading",{}),t(this,"arrPopupDialog",[]),t(this,"showTipsTime",0)}var a=i.prototype;return a.showDialog=function(i,t,o){var a=this;if(!this.dictLoading[i]){var n=i.lastIndexOf("/"),p=i.slice(n+1);if(t||(t=[]),this.dictSharedPanel.hasOwnProperty(i)){var h=this.dictSharedPanel[i];if(e(h)){h.parent=s("Canvas"),h.active=!0;var c=h.getComponent(p);return c.show&&c.show.apply(c,t),void(o&&o(c))}}this.dictLoading[i]=!0,r.createUI(i,(function(n,e){var s=!1;if(a.dictLoading[i]||(s=!0),a.dictLoading[i]=!1,n)console.error(n);else{a.dictSharedPanel[i]=e;var r=e.getComponent(p);r.show&&r.show.apply(r,t),o&&o(r),s&&a.hideDialog(i)}}))}},a.hideDialog=function(i,t){if(this.dictSharedPanel.hasOwnProperty(i)){var o=this.dictSharedPanel[i];o&&e(o)?(o.parent=null,t&&"function"==typeof t&&t()):t&&"function"==typeof t&&t()}this.dictLoading[i]=!1},a.pushToPopupSeq=function(i,t,o){var a={panelPath:i,scriptName:t,param:o,isShow:!1};this.arrPopupDialog.push(a),this.checkPopupSeq()},a.insertToPopupSeq=function(i,t,o){var a={panelPath:t,param:o,isShow:!1};this.arrPopupDialog.splice(i,0,a)},a.shiftFromPopupSeq=function(i){var t=this;this.hideDialog(i,(function(){t.arrPopupDialog[0]&&t.arrPopupDialog[0].panelPath===i&&(t.arrPopupDialog.shift(),t.checkPopupSeq())}))},a.checkPopupSeq=function(){if(this.arrPopupDialog.length>0){var i=this.arrPopupDialog[0];i.isShow||(this.showDialog(i.panelPath,i.param),this.arrPopupDialog[0].isShow=!0)}},a.showTips=function(i,t){var o=Date.now();if(o-this.showTipsTime<800){var a=800-(o-this.showTipsTime),n=this;setTimeout(function(i,t){n._showTipsAni(i,t)}.bind(this,i,t),a),this.showTipsTime=o+a}else this._showTipsAni(i,t),this.showTipsTime=o},a._showTipsAni=function(i,t){r.getUIPrefabRes("common/tips",(function(o,a){o||p.instance.getNode(a,s("Canvas")).getComponent(h).show(i,t)}))},o(i,null,[{key:"instance",get:function(){return this._instance||(this._instance=new i),this._instance}}]),i}(),t(u,"_instance",void 0),c=l))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/resourceUtil.ts",["cc"],(function(e){"use strict";var t,a,r,n,i,o,s,c,u,l,f;return{setters:[function(e){t=e.cclegacy,a=e._decorator,r=e.resources,n=e.error,i=e.Prefab,o=e.instantiate,s=e.find,c=e.SpriteFrame,u=e.isValid,l=e.assetManager,f=e.Texture2D}],execute:function(){var d;t._RF.push({},"aebeeEGJRZGbK315QTzsoll","resourceUtil",void 0);var g=a.ccclass;e("resourceUtil",g("resourceUtil")(d=function(){function e(){}return e.loadRes=function(e,t,a){t?r.load(e,t,(function(e,t){if(e)return n(e.message||e),void(a&&a(e,t));a&&a(e,t)})):r.load(e,(function(e,t){if(e)return n(e.message||e),void(a&&a(e,t));a&&a(e,t)}))},e.getMap=function(e,t){var a="map";a+=e>=100?e:e>=10?"0"+e:"00"+e,this.loadRes("gamePackage/map/config/"+a,null,(function(e,a){if(e)t(e,a);else{var r=a,n="";if(r._file){window.LZString&&(n=window.LZString.decompressFromEncodedURIComponent(r._file));var i=JSON.parse(n);t(null,i)}else if(r.text){window.LZString&&(n=window.LZString.decompressFromEncodedURIComponent(r.text));var o=JSON.parse(n);t(null,o)}else if(r.json)t(null,r.json);else{var s=new Error("failed");t(s,null)}}}))},e.getMapObjs=function(e,t,a,n){for(var o=[],s=0;s<t.length;s++)o.push("gamePackage/map/"+e+"/"+t[s]);r.load(o,i,a,n)},e.getUIPrefabRes=function(e,t){this.loadRes("prefab/ui/"+e,i,t)},e.createUI=function(e,t,a){this.getUIPrefabRes(e,(function(e,r){if(!e){var n=o(r);n.setPosition(0,0,0),a||(a=s("Canvas")),a.addChild(n),t&&t(null,n)}}))},e.getCarsBatch=function(e,t,a){for(var n=[],o=0;o<e.length;o++)n.push("prefab/car/car"+e[o]);for(var s=0;s<n.length;s++){var c=n[s];t?r.load(c,i,t,a):r.load(c,i,a)}},e.getUICar=function(e,t){this.loadRes("prefab/ui/car/uiCar"+e,i,t)},e.getCar=function(e,t){this.loadRes("prefab/car/car"+e,i,t)},e.setCarIcon=function(e,t,a,r){var n="gamePackage/texture/car/car"+e;a&&(n+="Black"),this.setSpriteFrame(n,t,r)},e.getJsonData=function(e,t){r.load("datas/"+e,(function(e,a){if(e)n(e.message||e);else{var r=a;if(r.json)t(e,r.json);else{var i=new Error("failed!!!");t(i,null)}}}))},e.getData=function(e,t){r.load("datas/"+e,(function(e,a){if(e)n(e.message||e);else{var i=a.text;i?t(e,i):r.load(a.nativeUrl,(function(e,a){t(e,i=a)}))}}))},e.setSpriteFrame=function(e,t,a){this.loadRes(e+"/spriteFrame",c,(function(r,n){if(r)return console.error("set sprite frame failed! err:",e,r),void a(r,n);t&&u(t)&&(t.spriteFrame=n,a(null,n))}))},e.setRemoteImage=function(e,t,a){if(e&&e.startsWith("http")){l.loadAny([{url:e,type:"png"}],null,(function(t,r){if(t)return console.error("set avatar failed! err:",e,t),void a(t,r);var n=new f;n.image=r;var i=new c;i.texture=n,a&&a(null,i)}))}},e.setGameIcon=function(e,t,a){e.startsWith("http")?this.setRemoteImage(e,t,a):this.setSpriteFrame("gamePackage/textures/icons/games/"+e,t,a)},e.getCustomer=function(e,t){this.loadRes("gamePackage/map/customer/customer"+e,i,t)},e.setCustomerIcon=function(e,t,a){var r="gamePackage/texture/head/head"+e;this.setSpriteFrame(r,t,a)},e.getEffect=function(e,t){this.loadRes("prefab/effect/"+e,i,t)},e}())||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/balance.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./audioManager.ts","./constant.ts","./util.ts","./playerData.ts","./uiManager.ts","./gameLogic.ts","./LanguageData.ts"],(function(e){"use strict";var i,t,n,r,a,l,o,s,u,c,p,g,b,f,h,m,v,d,y,w,L;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.defineProperty},function(e){l=e.cclegacy,o=e._decorator,s=e.Sprite,u=e.Label,c=e.Widget,p=e.Node,g=e.SpriteFrame,b=e.Component},function(e){f=e.clientEvent},function(e){h=e.audioManager},function(e){m=e.constant},function(e){v=e.util},function(e){d=e.playerData},function(e){y=e.uiManager},function(e){w=e.gameLogic},function(e){L=e.i18n}],execute:function(){var F,M,z,C,A,N,E,P,D,T,I,S,_,B,G,R,U,O,k,H,W,Y,x,j,q,V,X,Z,J,K,Q,$,ee,ie,te;l._RF.push({},"b6b06mpFMlIZqLpxXisU3Cu","balance",void 0);var ne=o.ccclass,re=o.property;e("balance",(F=ne("balance"),M=re(s),z=re(s),C=re({type:u}),A=re({type:u}),N=re(c),E=re({type:p,displayName:"进度项"}),P=re(g),D=re(g),T=re(g),I=re(g),S=re(g),_=re(u),B=re(u),G=re(u),R=re(s),U=re(p),F((H=i((k=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return i=e.call.apply(e,[this].concat(l))||this,n(r(i),"spStart",H,r(i)),n(r(i),"spEnd",W,r(i)),n(r(i),"lbCurLevel",Y,r(i)),n(r(i),"lbTargetLevel",x,r(i)),n(r(i),"wgMenu",j,r(i)),n(r(i),"progress",q,r(i)),n(r(i),"imgLevelFinished",V,r(i)),n(r(i),"imgLevelUnfinished",X,r(i)),n(r(i),"imgProgressNoActive",Z,r(i)),n(r(i),"imgProgressActive",J,r(i)),n(r(i),"imgProgressFinished",K,r(i)),n(r(i),"lbTakeCount",Q,r(i)),n(r(i),"lbGetNormal",$,r(i)),n(r(i),"lbGetMulti",ee,r(i)),n(r(i),"spIcon",ie,r(i)),n(r(i),"nodeDouble",te,r(i)),a(r(i),"rewardMoney",0),a(r(i),"isFinishLevel",!1),a(r(i),"showBalanceTimes",0),i}t(i,e);var l=i.prototype;return l.start=function(){},l.show=function(e,i,t,n,r,a){this.showBalanceTimes++;for(var l=t?i:i-1,o=this.progress.length,u=0;u<n&&!(n>o);u++)this.progress[u].active=!0,this.progress[u].getComponent(s).spriteFrame=u<l?this.imgProgressFinished:this.imgProgressNoActive;t||(this.progress[l].getComponent(s).spriteFrame=this.imgProgressActive);for(var c=n;c<this.progress.length;c++)this.progress[c].active=!1;this.lbCurLevel.string=e.toString(),this.lbTargetLevel.string=""+(e+1),this.isFinishLevel=a,this.spStart.spriteFrame=this.imgLevelFinished,this.spEnd.spriteFrame=a?this.imgLevelFinished:this.imgLevelUnfinished;var p=l>=0?l:0;this.lbTakeCount.string=L.t("balance.你完成了%{value}个订单",{value:p}),this.rewardMoney=r,this.lbGetNormal.string=v.formatMoney(r),this.lbGetMulti.string=v.formatMoney(3*r),a&&h.instance.playSound(m.AUDIO_SOUND.WIN),w.updateRewardIcon(m.SHARE_FUNCTION.BALANCE,this.spIcon);var g=Math.floor(100*Math.random());this.nodeDouble.active=g<30},l.onBtnGetNormalClick=function(){this.rewardOver(this.rewardMoney)},l.onBtnGetMultiClick=function(){var e=this;w.openReward(m.SHARE_FUNCTION.BALANCE,(function(i){i||e.rewardOver(3*e.rewardMoney)}))},l.rewardOver=function(e){this.isFinishLevel?(w.finishBuyTask(m.BUY_CAR_TYPE.PASS_LEVEL,d.instance.playerInfo.level,!1),d.instance.passLevel(e)):d.instance.updatePlayerInfo("gold",e),e>0&&w.showFlyReward(m.REWARD_TYPE.GOLD,(function(){f.dispatchEvent("updateGold")})),y.instance.hideDialog("fight/balance"),d.instance.playerInfo.level,d.instance.isComeFromBalance=!1,f.dispatchEvent("newLevel",this.isFinishLevel)},i}(b)).prototype,"spStart",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(k.prototype,"spEnd",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(k.prototype,"lbCurLevel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(k.prototype,"lbTargetLevel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(k.prototype,"wgMenu",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(k.prototype,"progress",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=i(k.prototype,"imgLevelFinished",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(k.prototype,"imgLevelUnfinished",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(k.prototype,"imgProgressNoActive",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(k.prototype,"imgProgressActive",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(k.prototype,"imgProgressFinished",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(k.prototype,"lbTakeCount",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(k.prototype,"lbGetNormal",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=i(k.prototype,"lbGetMulti",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=i(k.prototype,"spIcon",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=i(k.prototype,"nodeDouble",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=k))||O));l._RF.pop()}}}));

System.register("chunks:///_virtual/gameLogic.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./configuration.ts","./clientEvent.ts","./resourceUtil.ts","./constant.ts","./playerData.ts","./uiManager.ts","./flyReward.ts"],(function(n){"use strict";var e,t,i,a,c,o,s,r,u,d;return{setters:[function(n){e=n.defineProperty},function(n){t=n.cclegacy,i=n._decorator},function(n){a=n.configuration},function(n){c=n.clientEvent},function(n){o=n.resourceUtil},function(n){s=n.constant},function(n){r=n.playerData},function(n){u=n.uiManager},function(n){d=n.flyReward}],execute:function(){var f,l,g;t._RF.push({},"b6eeddtwEdPDYszSPn2rVjb","gameLogic",void 0);var p=i.ccclass;n("gameLogic",p("gameLogic")((g=l=function(){function n(){}return n.addGold=function(n){r.instance.updatePlayerInfo("gold",n),c.dispatchEvent("updateGold")},n.useCar=function(n){r.instance.useCar(n),c.dispatchEvent("updateCar")},n.buyCar=function(n){r.instance.buyCar(n),c.dispatchEvent("buyCar")},n.isVibrateOpen=function(){var n=a.instance.getGlobalData("vibrate");return null==n&&(n=!0),n},n.getOpenRewardType=function(n,e,t){e(null,s.OPEN_REWARD_TYPE.NULL)},n.checkIsByVideoAds=function(){return!1},n.updateRewardIcon=function(n,e,t,i,a){var c=this;this.getOpenRewardType(n,(function(n,o){switch(o){case s.OPEN_REWARD_TYPE.AD:e.node.active=!0,e.spriteFrame=i||c.imgAd;break;case s.OPEN_REWARD_TYPE.SHARE:e.node.active=!0,e.spriteFrame=a||c.imgShare;break;case s.OPEN_REWARD_TYPE.NULL:e.node.active=!1}t&&t(n,o)}))},n.finishBuyTask=function(n,e,t){r.instance.finishBuyTask(n,e,t),c.dispatchEvent("updateBuyTask")},n.openReward=function(n,e){e&&e(null)},n.afterLogin=function(){r.instance.isNewBee||this.checkSignIn()},n.checkSignIn=function(){1!==r.instance.playerInfo.level&&(r.instance.updateSignInCurrentDay(),r.instance.getSignInReceivedInfo().isTodayReceived||u.instance.pushToPopupSeq("signIn/signIn","signIn",{}))},n.showFlyReward=function(n,e){o.createUI("common/flyReward",(function(n,t){n?e&&e():t.getComponent(d).setEndListener(e)}))},n}(),e(l,"imgAd",null),e(l,"imgShare",null),f=g))||f);t._RF.pop()}}}));

System.register("chunks:///_virtual/en.ts",["cc"],(function(){"use strict";var e;return{setters:[function(i){e=i.cclegacy}],execute:function(){e._RF.push({},"c2ee7NzXEdG1Z3CXlfjoO8M","en",void 0),window.i18nConfig||(window.i18nConfig={}),window.i18nConfig.languages||(window.i18nConfig.languages={}),window.i18nConfig.languages.en={main:{dataLoading:"Data loading...",dataLoadOver:"Data loading completed...",loginSuccess:"Login success...",gameResourceLoading:"Game Resource Loading...",audioResourceLoading:"Audio Resource Loading...",mappingResourceLoading:"Mapping resource loading...",modelResourceLoading:"Model resource loading...",entering:"Entering..."},mainUI:{start:"Click screen to start",changeCar:"Change cars"},shop:{btnClose:"Close",go:"Go",acquired:"Acquired",current:"Current",receive:"Receive",getGold:"Gold coins for watching AD"},balance:{"你完成了%{value}个订单":"Complete %{value} order",youEarnedIt:"You earned it",clickReceive:"Click revive",receiveImmediately:"Receive Now"},carTask:{"初始车辆":"Initial vehicle","分享获得":"Share gain","签到获得":"Signin gain","通过关卡获得":"Get through a checkpoint"},signin:{title:"Sign in on the 7th",notYet:"Not yet",normalReceive:"Normal receive",receive:"Receive",doubleReceive:"Double receive",fillSignin:"Fill signin"},fightManager:{loadingMap:"Loading map...",buildingCity:"Start building cities...",cityLoadOver:"City loaded..."},fightMap:{trimTheGround:"The ground is being trimmed...",pavingTheRoad:"Paving the way...",plantingTree:"The trees are being planted...",decorateHouse:"The house is being renovated...",paintLandmarks:"The landmark is being painted..."},online:{close:"Close",clickReceive:"Click receive",dailyIncome:"Daily income is available"},lottery:{title:"Wheel of fortune",free:"Free"},talk:{"你好,请到街对面接我.":"Hello, please meet me across the street.","停车!停车!":"Stop the car, please! Stop the car, please!","去消费最高的地方.":"Go to the place where you spend the most.","去附近的希尔顿酒店.":"Go to the nearby hilton hotel.","司机快来!我老婆要生了!":"Driver, come on!  My wife is having a baby!","大哥快点,我赶时间.":"Eldest brother hurry up, I'm in a hurry.","师傅,5分钟内能到吗?":"Master, can you be there in 5 minutes?","师傅,你是老司机嘛?":"Master, are you an old driver?","师傅,你跑一天能赚多少?":"Master, how much do you earn per day?","师傅快点,我要赶飞机.":"Master, hurry up, I have to catch the plane.","师傅跟上那辆法拉利.":"Master, keep up with that Ferrari.","带我去最近的银行.":"Take me to the nearest bank.","帮我跟上前面那辆车!":"Help me keep up with the car in front!","快去火车站,我赶车!":"Go to the railway station, I'll catch the bus!","我在酒店大堂门口等你.":"I'll wait for you at the gate of the hotel lobby.","要下雨了,你快来!":"It's going to rain, you come quickly!"},showReward:{title:"Reward",normalReceive:"Normal receive",ReceiveImmediately:" Receive Now",doubleReceive:"Double receive",alreadyHadCar:"You already own the vehicle and automatically convert it into the corresponding gold coin.",buySuccessful:"Buy successful",confrim:"Confrim",signinReward:"Signin reward"},revive:{reviveImmediately:"Resurrection Now",skip:"Skip",tips:"It's a pity that we came close to the finish line.!",continue:"Resurrection continues."},clickBox:{title:"Mysterious gift",progress:"The faster you click, the more rewards you will receive.",clickMe:"click me fast",normalReceive:"Normal receive",doubleReceive:"Double receive"},trial:{title:"Free trial",tryItNow:"Try It Now",giveUp:"Give up the trial and start the game."},invinceible:{title:"Invincible start",confirm:"Confrim",close:"Close"},setting:{title:"Setting",version:"Version:",close:"Close"}},e._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./LanguageData.ts"],(function(t){"use strict";var e,a,i,n,o,r,l,c,u,s,d,p,h;return{setters:[function(t){e=t.defineProperty,a=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.assertThisInitialized,o=t.initializerDefineProperty,r=t.createClass},function(t){l=t.cclegacy,c=t._decorator,u=t.log,s=t.Label,d=t.error,p=t.Component},function(t){h=t.i18n}],execute:function(){var b,f,D,L,y;l._RF.push({},"c4c1axXN+NL4oYQEr2M4qn2","LocalizedLabel",void 0);var I=c.ccclass,v=c.property;t("default",I("LocalizedLabel")((y=L=function(t){function a(){for(var a,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return a=t.call.apply(t,[this].concat(r))||this,e(n(a),"_debouncedUpdateLabel",null),e(n(a),"label",null),o(n(a),"_dataID",D,n(a)),a}i(a,t);var l=a.prototype;return l.onLoad=function(){h.inst||h.init(),u("dataID: "+this.dataID+" value: "+h.t(this.dataID)),this.fetchRender()},l.fetchRender=function(){var t=this.getComponent(s);if(t)return this.label=t,void this.updateLabel()},l.updateLabel=function(){this.label?h.t(this.dataID,{})&&(this.label.string=h.t(this.dataID,{})):d("Failed to update localized label, label component is invalid!")},l.debounce=function(t,e,a){var i=arguments,n=this,o=-1;return function(){var r=i,l=function(){o=-1,a||t.apply(n,r)}.bind(n),c=a&&!o;clearTimeout(o),o=setTimeout(l,e),c&&t.apply(n,r)}.bind(this)},r(a,[{key:"dataID",get:function(){return this._dataID},set:function(t){this._dataID!==t&&(this._dataID=t,this.updateLabel())}}]),a}(p),e(L,"editor",{executeInEditMode:!0,menu:"i18n/LocalizedLabel"}),D=a((f=y).prototype,"_dataID",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a(f.prototype,"dataID",[v],Object.getOwnPropertyDescriptor(f.prototype,"dataID"),f.prototype),b=f))||b);l._RF.pop()}}}));

System.register("chunks:///_virtual/main.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./configuration.ts","./localConfig.ts","./playerData.ts","./LanguageData.ts","./loading.ts"],(function(e){"use strict";var i,n,r,o,s,a,t,c,u,g,d,l,h,f,P,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.defineProperty},function(e){a=e.cclegacy,t=e._decorator,c=e.Label,u=e.assetManager,g=e.director,d=e.Component},function(e){l=e.configuration},function(e){h=e.localConfig},function(e){f=e.playerData},function(e){P=e.i18n},function(e){p=e.loading}],execute:function(){var m,b,L,I,y,S,v;a._RF.push({},"c5aa7IsWr5A4blPeFPanXM/","main",void 0);var U=t.ccclass,w=t.property;P.init("zh");e("main",(m=U("main"),b=w(c),L=w(p),m((S=i((y=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),t=0;t<n;t++)a[t]=arguments[t];return i=e.call.apply(e,[this].concat(a))||this,r(o(i),"lbVersion",S,o(i)),r(o(i),"loadingUI",v,o(i)),s(o(i),"retryTimes",0),s(o(i),"uid",""),s(o(i),"curProgress",0),s(o(i),"isLoginFinished",!1),s(o(i),"isSubPackageFinished",!1),s(o(i),"isConfigLoaded",!1),i}n(i,e);var a=i.prototype;return a.start=function(){var e=this;this.loadingUI.show(),f.instance.syncServerTime(Date.now()),this.curProgress=5,this.loadingUI.updateProgress(this.curProgress,P.t("main.dataLoading")),h.instance.loadConfig((function(){e.lbVersion.string="Version. "+h.instance.getVersion(),e.isConfigLoaded=!0,e.loadMainScene()})),this.curProgress+=5,this.loadingUI&&this.loadingUI.updateProgress(this.curProgress,P.t("main.dataLoadOver")),this.curProgress+=5,this.curProgress+=15,this.loadingUI.updateProgress(this.curProgress,P.t("main.gameResourceLoading")),f.instance.loadGlobalCache(),f.instance.userId?this.uid=f.instance.userId:this.uid=l.generateGuestAccount(),this.startLogin(),this.downloadGameRes((function(){console.log("subpackage download finished!"),e.isSubPackageFinished=!0,e.loadMainScene()}))},a.startLogin=function(){l.instance.setUserId(this.uid),f.instance.syncServerTime(Date.now()),this.userLogin()},a.userLogin=function(){f.instance.loadFromCache(),void 0===f.instance.playerInfo.createDate&&f.instance.createPlayerInfo(),console.log("login finished!"),this.isLoginFinished=!0,this.loadMainScene()},a.downloadGameRes=function(e){this.curProgress+=15,this.loadingUI.updateProgress(this.curProgress),e&&e()},a.showSubPackageError=function(){},a.loadGameSubPackage=function(e){var i=this;this.loadingUI.updateProgress(this.curProgress,P.t("main.audioResourceLoading")),u.loadBundle("resources",(function(n){if(i.curProgress+=5,i.loadingUI.updateProgress(i.curProgress,P.t("main.audioResourceLoading")),n)return i.showSubPackageError(),console.error(n);u.loadBundle("textures",(function(n){if(i.curProgress+=5,i.loadingUI.updateProgress(i.curProgress,P.t("main.mappingResourceLoading")),n)return i.showSubPackageError(),console.error(n);u.loadBundle("model",(function(n){if(i.curProgress+=5,i.loadingUI.updateProgress(i.curProgress,P.t("main.modelResourceLoading")),n)return i.showSubPackageError(),console.error(n);e&&e()}))}))}))},a.loadMainScene=function(){var e=this;this.isConfigLoaded&&this.isLoginFinished&&this.isSubPackageFinished&&g.preloadScene("main",(function(i){e.curProgress+=5,e.loadingUI.updateProgress(e.curProgress,P.t("main.entering")),i||g.loadScene("main",(function(){}))}))},i}(d)).prototype,"lbVersion",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(y.prototype,"loadingUI",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=y))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/effectManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./audioManager.ts","./constant.ts","./poolManager.ts","./carManager.ts"],(function(n){"use strict";var e,t,r,i,a,o,c,s,u,l,d,f,g,h;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,i=n.assertThisInitialized,a=n.defineProperty},function(n){o=n.cclegacy,c=n._decorator,s=n.Prefab,u=n.Component},function(n){l=n.clientEvent},function(n){d=n.audioManager},function(n){f=n.constant},function(n){g=n.poolManager},function(n){h=n.carManager}],execute:function(){var p,M,N,y,v,k,B;o._RF.push({},"cf371ivOc1Ae64t3ScAzqjv","effectManager",void 0);var b=c.ccclass,m=c.property;n("effectManager",(p=b("effectManager"),M=m({type:s}),N=m({type:h}),p((k=e((v=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return e=n.call.apply(n,[this].concat(o))||this,r(i(e),"pfTailLine",k,i(e)),r(i(e),"carManager",B,i(e)),a(i(e),"currentNode",null),e}t(e,n);var o=e.prototype;return o.start=function(){},o.onEnable=function(){l.on("startBraking",this.onBrakingStart,this),l.on("endBraking",this.onBrakingEnd,this)},o.onDisable=function(){l.off("startBraking",this.onBrakingStart,this),l.off("endBraking",this.onBrakingEnd,this)},o.onBrakingStart=function(){this.currentNode=g.instance.getNode(this.pfTailLine,this.node),this.currentNode.setWorldPosition(this.carManager.mainCar.node.worldPosition),this.currentNode.eulerAngles=this.carManager.mainCar.node.eulerAngles,d.instance.playSound(f.AUDIO_SOUND.STOP)},o.onBrakingEnd=function(){var n=this.currentNode;this.currentNode=null,this.scheduleOnce((function(){n&&n.isValid&&g.instance.putNode(n)}),2)},o.update=function(n){this.currentNode&&this.carManager.mainCar&&(this.currentNode.setWorldPosition(this.carManager.mainCar.node.worldPosition),this.currentNode.eulerAngles=this.carManager.mainCar.node.eulerAngles)},o.reset=function(){if(this.currentNode){g.instance.putNode(this.currentNode),g.instance.clearPool(this.currentNode.name),this.currentNode=null;for(var n=this.node.children.slice(0),e=0;e<n.length;e++){var t=n[e];t&&t.isValid&&t.destroy()}}},e}(u)).prototype,"pfTailLine",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(v.prototype,"carManager",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/flyReward.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./flyRewardItem.ts"],(function(e){"use strict";var t,i,n,r,o,a,l,c,s,d,u,f,h,p,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.defineProperty},function(e){a=e.cclegacy,l=e._decorator,c=e.SpriteFrame,s=e.Node,d=e.Animation,u=e.find,f=e.Vec3,h=e.Component},function(e){p=e.clientEvent},function(e){y=e.flyRewardItem}],execute:function(){var v,m,w,b,R,g,_,I,P;a._RF.push({},"d14d4EewSBFtIn6B/rRUvjM","flyReward",void 0);var k=l.ccclass,D=l.property;e("flyReward",(v=k("flyReward"),m=D(c),w=D(s),b=D(d),v((_=t((g=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,n(r(t),"imgGold",_,r(t)),n(r(t),"ndRewardParent",I,r(t)),n(r(t),"aniBoom",P,r(t)),o(r(t),"finishIdx",0),o(r(t),"_callback",void 0),o(r(t),"isGoldOrDiamond",!0),t}i(t,e);var a=t.prototype;return a.start=function(){this.aniBoom.play(),this.createReward()},a.getTargetPos=function(){var e=u("Canvas/goldPos");return e?e.position:(this.node.destroy(),this._callback&&this._callback(),f.ZERO)},a.createReward=function(){for(var e=this,t=this.imgGold,i=this.getTargetPos(),n=0;n<10;n++){var r=new s("flyRewardItem"),o=r.addComponent(y);r.parent=this.ndRewardParent,o.show(t,i,(function(t){e.onFlyOver(t)}))}},a.setInfo=function(e){this.isGoldOrDiamond=e},a.onFlyOver=function(e){this.isGoldOrDiamond?p.dispatchEvent("receiveGold"):p.dispatchEvent("receiveDiamond"),e.active=!1,this.finishIdx++,10===this.finishIdx&&(this._callback&&this._callback(),this.node.destroy())},a.setEndListener=function(e){this._callback=e},t}(h)).prototype,"imgGold",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(g.prototype,"ndRewardParent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(g.prototype,"aniBoom",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=g))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageData.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./polyglot.min.ts"],(function(n){"use strict";var e,t,i,r;return{setters:[function(n){e=n.defineProperty},function(n){t=n.cclegacy,i=n.director},function(n){r=n.Polyglot}],execute:function(){var o;function a(n){return window.i18nConfig.languages[n]}function u(n){n&&(o?o.replace(n):o=new r({phrases:n,allowMissing:!0}))}t._RF.push({},"d6597NeRz5OuZ6kceJkHWc3","LanguageData",void 0),window.i18nConfig||(window.i18nConfig={languages:{},curLang:""});var c=n("i18n",function(){function n(){}return n.init=function(n){if(n&&n!==window.i18nConfig.curLang){var e=a(n)||{};window.i18nConfig.curLang=n,u(e),this.inst=o}},n.t=function(n,e){0===Object.keys(o.phrases).length&&(u(a(window.i18nConfig.curLang)||{}),console.warn("###防止出现parses数据丢失，重新替换数据"));if(o)return o.t(n,e)},n.prototype.updateSceneRenderers=function(){for(var n=i.getScene().children,e=[],t=0;t<n.length;++t){var r=n[t].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(e,r)}for(var o=0;o<e.length;++o){var a=e[o];a.node.active&&a.updateLabel()}for(var u=[],c=0;c<n.length;++c){var g=n[c].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(u,g)}for(var l=0;l<u.length;++l){var s=u[l];s.node.active&&s.updateSprite(window.i18nConfig.curLang)}},n}());e(c,"inst",null),t._RF.pop()}}}));

System.register("chunks:///_virtual/lottery.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./configuration.ts","./clientEvent.ts","./constant.ts","./localConfig.ts","./playerData.ts","./uiManager.ts","./gameLogic.ts","./lodash.ts","./lotteryItem.ts"],(function(t){"use strict";var e,n,r,i,a,o,l,s,u,c,b,h,f,d,y,p,g,m,w,B,R,v,C,I,L,E,D,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.defineProperty,o=t.createClass},function(t){l=t.cclegacy,s=t._decorator,u=t.Node,c=t.Prefab,b=t.Button,h=t.Label,f=t.SpriteFrame,d=t.Sprite,y=t.instantiate,p=t.Color,g=t.Vec3,m=t.tween,w=t.Component},function(t){B=t.configuration},function(t){R=t.clientEvent},function(t){v=t.constant},function(t){C=t.localConfig},function(t){I=t.playerData},function(t){L=t.uiManager},function(t){E=t.gameLogic},function(t){D=t.lodash},function(t){A=t.lotteryItem}],execute:function(){var T,M,z,_,k,O,N,Y,F,P,G,V,S,x,U,H,j,q,J,W,Z,K,Q,X,$,tt,et,nt,rt;l._RF.push({},"d7ed7RMvvZIvbdJyWwfIGDy","lottery",void 0);var it=s.ccclass,at=s.property;t("lottery",(T=it("lottery"),M=at(u),z=at(c),_=at(u),k=at(u),O=at(b),N=at(b),Y=at(h),F=at(f),P=at(f),G=at(f),V=at(d),S=at(d),x=at(d),T((j=e((H=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,r(i(e),"arrRewardNode",j,i(e)),r(i(e),"pfRewardItem",q,i(e)),r(i(e),"nodeTurnable",J,i(e)),r(i(e),"ndBtnClose",W,i(e)),r(i(e),"btnLottery",Z,i(e)),r(i(e),"btnAd",K,i(e)),r(i(e),"lbMoney",Q,i(e)),r(i(e),"imgLotteryBtnDisable",X,i(e)),r(i(e),"imgLotteryBtnEnable",$,i(e)),r(i(e),"imgAdBtnEnable",tt,i(e)),r(i(e),"spLotteryBtn",et,i(e)),r(i(e),"spAdIcon",nt,i(e)),r(i(e),"spAdBtn",rt,i(e)),a(i(e),"arrRewardData",[]),a(i(e),"arrLotteryItem",[]),a(i(e),"arrProbability",[]),a(i(e),"randValue",0),a(i(e),"curRotation",null),a(i(e),"_receiveCarTimes",0),e}n(e,t);var l=e.prototype;return l.start=function(){},l.onEnable=function(){R.on("buyCar",this.onBuyCar,this)},l.onDisable=function(){R.off("buyCar",this.onBuyCar,this)},l.onBuyCar=function(){this.initReward()},l.show=function(){this.initReward(),this.initInfo(),this.btnAd.node.active=!0},l.initReward=function(){var t=C.instance.getCars(),e=[];if(t.forEach((function(t){I.instance.hasCar(t.ID)||t.type!==v.BUY_CAR_TYPE.GOLD||e.push(t.ID)})),e.length<6)for(var n=D.cloneDeep(I.instance.playerInfo.cars);e.length<6;){var r=Math.floor(Math.random()*n.length),i=n[r];C.instance.queryByID("car",i).type===v.BUY_CAR_TYPE.GOLD&&e.push(n.splice(r,1)[0])}this.arrRewardData=e,this.arrProbability=[];for(var a=0,o=0;o<this.arrRewardNode.length;o++){var l=this.arrRewardNode[o],s=this.arrLotteryItem[o];if(s||((s=y(this.pfRewardItem)).parent=l,this.arrLotteryItem[o]=s),this.arrRewardData.length>o){var u=this.arrRewardData[o];s.getComponent(A).show(u);var c=a,b=a+100/6;this.arrProbability.push({min:c,max:b,idx:o}),a=b}}},l.initInfo=function(){this.lbMoney.string=""+v.LOTTERY.MONEY,this.checkButton()},l.checkButton=function(){var t=this.checkIsFree();this.btnAd.node.active=t,this.btnLottery.node.active=!t,t||(I.instance.playerInfo.gold>v.LOTTERY.MONEY?(this.lbMoney.color=new p(163,64,27),this.lotteryBtnEnable=!0,this.adBtnEnable=!1):(this.lbMoney.color=p.RED,this.lotteryBtnEnable=!1,this.adBtnEnable=!0),E.updateRewardIcon(v.SHARE_FUNCTION.LOTTERY,this.spAdIcon,(function(){})))},l.checkIsFree=function(){var t=I.instance.playerInfo.signInInfo.currentDay,e=B.instance.getGlobalData("rewardDays");return void 0===e||parseInt(e)<t},l.getRandValue=function(){for(var t=-1;-1===t;)for(var e=Math.floor(100*Math.random()),n=0;n<this.arrProbability.length;n++){var r=this.arrProbability[n];if(e>=r.min&&e<r.max){t=r.idx;break}}return t},l.onBtnStartClick=function(){E.addGold(-v.LOTTERY.MONEY),this.startRun()},l.onBtnAdClick=function(){var t=this,e=B.instance.getGlobalData("rewardDays");B.instance.setGlobalData("rewardDays",""+(e?parseInt(e)+1:0)),E.openReward(v.SHARE_FUNCTION.LOTTERY,(function(e){e||t.startRun()}))},l.startRun=function(){var t=this;this.lotteryBtnEnable=!1,this.adBtnEnable=!1,this.ndBtnClose.getComponent(b).interactable=!1,this.randValue=this.getRandValue();var e=this.nodeTurnable.eulerAngles.z%360;this.nodeTurnable.eulerAngles=new g(0,0,e);var n=360-e,r=3+Math.floor(4*Math.random()),i=-360-360*r+60*this.randValue+30-360;this.curRotation=this.nodeTurnable.eulerAngles.clone(),m(this.curRotation).to(n/360+.5*r,new g(0,0,i),{easing:"cubicOut"}).call((function(){t.curRotation=null,t.showReward()})).start()},l.showReward=function(){this.ndBtnClose.getComponent(b).interactable=!0,this.arrLotteryItem[this.randValue].getComponent(A).showReward(this),this.checkButton()},l.onBtnCloseClick=function(){L.instance.hideDialog("lottery/lottery")},l.update=function(t){this.curRotation&&(this.nodeTurnable.eulerAngles=this.curRotation)},o(e,[{key:"receiveCarTimes",get:function(){return this._receiveCarTimes},set:function(t){console.log("#####receiveCarTimes",t),this._receiveCarTimes=t}},{key:"lotteryBtnEnable",set:function(t){t?(this.btnLottery.interactable=!0,this.spLotteryBtn.spriteFrame=this.imgLotteryBtnEnable):(this.btnLottery.interactable=!1,this.spLotteryBtn.spriteFrame=this.imgLotteryBtnDisable)}},{key:"adBtnEnable",set:function(t){t?(this.btnAd.interactable=!0,this.spAdBtn.spriteFrame=this.imgAdBtnEnable):(this.btnAd.interactable=!1,this.spAdBtn.spriteFrame=this.imgLotteryBtnDisable)}}]),e}(w)).prototype,"arrRewardNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=e(H.prototype,"pfRewardItem",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(H.prototype,"nodeTurnable",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(H.prototype,"ndBtnClose",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(H.prototype,"btnLottery",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(H.prototype,"btnAd",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(H.prototype,"lbMoney",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(H.prototype,"imgLotteryBtnDisable",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(H.prototype,"imgLotteryBtnEnable",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(H.prototype,"imgAdBtnEnable",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(H.prototype,"spLotteryBtn",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(H.prototype,"spAdIcon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(H.prototype,"spAdBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=H))||U));l._RF.pop()}}}));

System.register("chunks:///_virtual/fightCanvas.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./carManager.ts","./gameLogic.ts","./loading.ts"],(function(i){"use strict";var t,n,e,o,r,a,s,u,c,h,l,g,d,f;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized,r=i.defineProperty},function(i){a=i.cclegacy,s=i._decorator,u=i.SpriteFrame,c=i.Node,h=i.Component},function(i){l=i.clientEvent},function(i){g=i.carManager},function(i){d=i.gameLogic},function(i){f=i.loading}],execute:function(){var p,v,T,b,m,y,L,P,w,C,E,M,S;a._RF.push({},"daea1EBoy1Ms6PBdAupQWnn","fightCanvas",void 0);var U=s.ccclass,_=s.property;i("fightCanvas",(p=U("fightCanvas"),v=_(g),T=_(u),b=_(u),m=_(f),y=_(c),p((w=t((P=function(i){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=i.call.apply(i,[this].concat(a))||this,e(o(t),"carManager",w,o(t)),e(o(t),"imgShare",C,o(t)),e(o(t),"imgVideo",E,o(t)),e(o(t),"loadingUI",M,o(t)),e(o(t),"tip",S,o(t)),r(o(t),"curProgress",50),r(o(t),"isFirstLoad",!0),r(o(t),"isTouching",!1),t}n(t,i);var a=t.prototype;return a.start=function(){d.imgAd=this.imgVideo,d.imgShare=this.imgShare,this.loadingUI.show(this.curProgress),this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},a.onEnable=function(){l.on("updateLoading",this.updateLoadingProgress,this),l.on("showGuide",this.showGuide,this)},a.onDisable=function(){l.off("updateLoading",this.updateLoadingProgress,this),l.off("showGuide",this.showGuide,this)},a.onTouchStart=function(){this.isTouching=!0,this.tip.active=!1,this.carManager.controlMainCar(!0)},a.onTouchEnd=function(){this.isTouching=!1,this.carManager.controlMainCar(!1)},a.showGuide=function(i){var t=this;i&&this.isTouching&&this.scheduleOnce((function(){t.onTouchStart()}),0)},a.updateLoadingProgress=function(i,t){this.isFirstLoad?this.curProgress+=Math.floor(i/2):this.curProgress+=i,this.loadingUI.updateProgress(this.curProgress,t)},a.loadNewLevel=function(){this.loadingUI.node.active=!0,this.curProgress=0,this.isFirstLoad=!1},a.finishLoading=function(){this.loadingUI.node.active=!1},t}(h)).prototype,"carManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(P.prototype,"imgShare",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(P.prototype,"imgVideo",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(P.prototype,"loadingUI",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(P.prototype,"tip",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=P))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/fightConstants.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var R,n;return{setters:[function(t){R=t.defineProperty},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"dbe36y+LwBGGIL8I87F3O+/","fightConstants",void 0);var _=t("fightConstants",(function(){}));R(_,"ROAD_POINT_TYPE",{NORMAL:1,START:2,GREETING:3,PLATFORM:4,END:5,AI_START:6}),R(_,"ROAD_MOVE_TYPE",{LINE:1,BEND:2}),R(_,"CAR_GROUP",{NORMAL:1,MAIN_CAR:2,OTHER_CAR:4}),R(_,"CUSTOMER_TALK_TIME",{INTO_THE_CAR:1,NEW_ORDER:2}),R(_,"CLICK_BOX_REWARD",300),n._RF.pop()}}}));

System.register("chunks:///_virtual/audioManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./configuration.ts","./resourceUtil.ts"],(function(n){"use strict";var o,t,e,i,u,a,s,c,l;return{setters:[function(n){o=n.createClass,t=n.defineProperty},function(n){e=n.cclegacy,i=n.assert,u=n.AudioClip,a=n.warn,s=n.clamp01},function(n){c=n.configuration},function(n){l=n.resourceUtil}],execute:function(){e._RF.push({},"e478cuMHJdIHa5fP3m5UZ7S","audioManager",void 0);var r=n("audioManager",function(){function n(){t(this,"soundVolume",1)}var e=n.prototype;return e.init=function(o){this.soundVolume=this.getConfiguration(!1)?1:0,n._audioSource=o},e.getConfiguration=function(n){var o;return void 0===(o=n?c.instance.getGlobalData("music"):c.instance.getGlobalData("sound"))||"true"===o},e.playMusic=function(o){var t=n._audioSource;i(t,"AudioManager not inited!"),t.loop=o,t.playing||t.play()},e.playSound=function(o){var t=this,e=n._audioSource;i(e,"AudioManager not inited!");l.loadRes("gamePackage/audio/sound/"+o,u,(function(n,o){n?a("load audioClip failed: ",n):e.playOneShot(o,e.volume?t.soundVolume/e.volume:0)}))},e.setMusicVolume=function(o){var t=n._audioSource;i(t,"AudioManager not inited!"),o=s(o),t.volume=o},e.setSoundVolume=function(n){this.soundVolume=n},e.openMusic=function(){this.setMusicVolume(.8),c.instance.setGlobalData("music","true")},e.closeMusic=function(){this.setMusicVolume(0),c.instance.setGlobalData("music","false")},e.openSound=function(){this.setSoundVolume(1),c.instance.setGlobalData("sound","true")},e.closeSound=function(){this.setSoundVolume(0),c.instance.setGlobalData("sound","false")},o(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}());t(r,"_instance",void 0),t(r,"_audioSource",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/car.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./fightConstants.ts","./clientEvent.ts","./resourceUtil.ts","./audioManager.ts","./constant.ts","./poolManager.ts"],(function(t){"use strict";var i,e,s,n,o,r,h,a,c,l,d,g,u,p,v,R,P,f,T,m,C,S;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.defineProperty,n=t.assertThisInitialized,o=t.initializerDefineProperty,r=t.createClass},function(t){h=t.cclegacy,a=t._decorator,c=t.Node,l=t.Vec3,d=t.ParticleSystem,g=t.RigidBody,u=t.Collider,p=t.ERigidBodyType,v=t.instantiate,R=t.Component},function(t){P=t.fightConstants},function(t){f=t.clientEvent},function(t){T=t.resourceUtil},function(t){m=t.audioManager},function(t){C=t.constant},function(t){S=t.poolManager}],execute:function(){var y,_,w,A,M,O,b,I,x;h._RF.push({},"e6d4fVD3pxJ7Y1Khf8fRUoa","car",void 0);var E=a.ccclass,k=a.property;t("car",(y=E("car"),_=k({displayName:"最大移动速度"}),w=k({displayName:"最小移动速度"}),A=k(c),y((b=i((O=function(t){function i(){var i;return i=t.call(this)||this,s(n(i),"_isMoving",!1),o(n(i),"maxSpeed",b,n(i)),o(n(i),"minSpeed",I,n(i)),o(n(i),"nodeGas",x,n(i)),s(n(i),"_minSpeed",-1),s(n(i),"_maxSpeed",-1),s(n(i),"manager",null),s(n(i),"isMain",!1),s(n(i),"currentSpeed",0),s(n(i),"accelerate",2),s(n(i),"originRotation",0),s(n(i),"targetRotation",0),s(n(i),"curRoadPoint",null),s(n(i),"circleCenterPoint",new l),s(n(i),"quarter",0),s(n(i),"_nodeGasInst",null),s(n(i),"entry",null),s(n(i),"forward",new l(0,0,-1)),s(n(i),"posTarget",new l),s(n(i),"posSrc",new l),s(n(i),"_callback",null),s(n(i),"isOver",!1),s(n(i),"curProgress",0),s(n(i),"maxProgress",0),s(n(i),"hasCustomer",!1),s(n(i),"lastPos",new l),s(n(i),"lastRotation",new l),s(n(i),"isBraking",!1),s(n(i),"arrTyres",[]),s(n(i),"curTyreRotation",0),s(n(i),"nodeCarBackLight",null),s(n(i),"tootingCoolTime",0),s(n(i),"isCarMoving",!1),s(n(i),"nodeInvincible",null),s(n(i),"_isHosting",!1),s(n(i),"_isInvincible",!1),s(n(i),"invincibleRotation",0),i}e(i,t);var h=i.prototype;return h.start=function(){var t=this;this._minSpeed=this.minSpeed,this._maxSpeed=this.maxSpeed;var i=this.node.getChildByPath("RootNode/tyre1");i&&(this.arrTyres=[i,this.node.getChildByPath("RootNode/tyre2"),this.node.getChildByPath("RootNode/tyre3"),this.node.getChildByPath("RootNode/tyre4")],this.nodeCarBackLight=this.node.getChildByPath("RootNode/light1")),T.getEffect("gas",(function(i,e){if(!i){var s=S.instance.getNode(e,t.nodeGas);t._nodeGasInst=s.getComponent(d),s.setPosition(new l(0,0,0))}}))},h.markMainCar=function(t){this.isMain=t;var i=this.node.getComponent(g),e=this.node.getComponent(u);e.off("onCollisionEnter",this.onCollisionEnter,this),t?(i.setGroup(P.CAR_GROUP.MAIN_CAR),i.setMask(P.CAR_GROUP.OTHER_CAR),i.type=p.KINEMATIC,e.on("onCollisionEnter",this.onCollisionEnter,this)):(i.setGroup(P.CAR_GROUP.OTHER_CAR),i.setMask(-1),i.type=p.DYNAMIC)},h.setEntry=function(t){this.entry=t,this.reset()},h.onCollisionEnter=function(t){var i=this;if(this.isMain&&"ground"!==t.otherCollider.node.name){var e=t.otherCollider.node;t.otherCollider.node===this.node&&(e=t.selfCollider.node);var s=e.getComponent("car");if(!s.isOver){s.isOver=!0;var n=e.getComponent(g);n.useGravity=!0,this.isInvincible?n.applyForce(new l(0,1e4,-3e3),new l(0,.5,0)):n.applyForce(new l(0,1500,-3e3),new l(0,.5,0))}if(!this.isOver){m.instance.playSound(C.AUDIO_SOUND.CRASH);var o=this.node.getComponent(g);if(this.isInvincible)return this.lastPos=this.node.worldPosition,this.lastRotation=this.node.eulerAngles,o.enabled=!1,this.scheduleOnce((function(){i.isInvincible=!1,o.enabled=!0,i.revive(),i.currentSpeed=i._minSpeed}),.1),void this.scheduleOnce((function(){S.instance.putNode(e)}),.3);this.lastPos=this.node.worldPosition,this.lastRotation=this.node.eulerAngles,this.isOver=!0,o.setGroup(P.CAR_GROUP.MAIN_CAR),o.setMask(P.CAR_GROUP.OTHER_CAR|P.CAR_GROUP.NORMAL),f.dispatchEvent("gameOver",!1)}}},h.updateBackLight=function(){this.nodeCarBackLight&&(this.nodeCarBackLight.active=!this.isMoving||this.isHosting)},h.startRunning=function(){this.isOver||(this.isMoving=!0,this.accelerate=.4,this._nodeGasInst&&this._nodeGasInst.play(),this.isBraking&&(f.dispatchEvent("endBraking"),this.isBraking=!1))},h.startWithMinSpeed=function(){this.currentSpeed=this.minSpeed,this.stopRunning(!0),this._nodeGasInst&&this._nodeGasInst.play()},h.stopRunning=function(t){this.isOver||(this.isMoving=!1,this.accelerate=-.15,this.isBraking||t||(f.dispatchEvent("startBraking"),this.isBraking=!0))},h.stopImmediately=function(){this.isMoving=!1,this.currentSpeed=0},h.setMoveOverListener=function(t){this._callback=t},h.resetPhysical=function(){this.isOver=!1,this.isMain&&this.markMainCar(!0);var t=this.node.getComponent(g);t.useGravity=!1,t.sleep(),t.wakeUp()},h.revive=function(){this.resetPhysical(),console.log("revive pos ",this.lastPos);var t=new l(this.lastPos.x,0,this.lastPos.z);this.node.setWorldPosition(t),this.node.eulerAngles=this.lastRotation,this.isMoving=!1,this.currentSpeed=0},h.reset=function(){this.resetPhysical(),this.isMain&&(this.curProgress=0,this.hasCustomer=!1,this._nodeGasInst&&this._nodeGasInst.stop(),this.isInvincible=!1),this.tootingCoolTime=0,this.curRoadPoint=this.entry.getComponent("roadPoint"),this.posSrc.set(this.entry.worldPosition),this.posTarget.set(this.curRoadPoint.next.worldPosition),this.node.setWorldPosition(this.entry.worldPosition),this.posTarget.z!==this.posSrc.z?this.posTarget.z<this.posSrc.z?this.node.eulerAngles=new l(0,360,0):this.node.eulerAngles=new l(0,180,0):this.posTarget.x>this.posSrc.x?this.node.eulerAngles=new l(0,270,0):this.node.eulerAngles=new l(0,90,0),this.originRotation=this.node.eulerAngles.y,this.targetRotation=this.originRotation,this.isMoving=!1,this.isHosting=!1,this.currentSpeed=0,this._minSpeed>0&&(this.minSpeed=this._minSpeed,this.maxSpeed=this._maxSpeed)},h.greeting=function(){var t=this;this.isHosting=!0,this.curProgress++,this.hasCustomer=!0,f.dispatchEvent("greetingCustomer"),this.manager.greeting(this.node.worldPosition,this.curRoadPoint.direction,(function(){t.isMoving=!1,t.currentSpeed=0,t.isHosting=!1,f.dispatchEvent("showGuide",!0)}))},h.takeCustomer=function(){var t=this;this.isHosting=!0,this.hasCustomer=!1,f.dispatchEvent("takeCustomer"),this.manager.takeCustomer(this.node.worldPosition,this.curRoadPoint.direction,this.curProgress===this.maxProgress,(function(){t.isMoving=!1,t.currentSpeed=0,t.isHosting=!1,f.dispatchEvent("showGuide",!0)}))},h.arrivalPoint=function(){if(this.node.setWorldPosition(this.posTarget),this.curRoadPoint.moveType===P.ROAD_MOVE_TYPE.BEND&&(this.node.eulerAngles=new l(0,this.targetRotation,0)),this.posSrc.set(this.posTarget),this.posTarget.set(l.ZERO),this.curRoadPoint.next){if(this.curRoadPoint=this.curRoadPoint.next.getComponent("roadPoint"),this.isMain&&(this.curRoadPoint.type===P.ROAD_POINT_TYPE.GREETING?this.greeting():this.curRoadPoint.type===P.ROAD_POINT_TYPE.PLATFORM?this.takeCustomer():this.curRoadPoint.type===P.ROAD_POINT_TYPE.END&&(f.dispatchEvent("gameOver",!0),this.moveAfterFinished())),this.curRoadPoint.next?this.posTarget.set(this.curRoadPoint.next.worldPosition):this._callback&&this._callback(this),this.originRotation=this.node.eulerAngles.y,this.targetRotation=this.originRotation,this.curRoadPoint.moveType===P.ROAD_MOVE_TYPE.BEND){if(this.curRoadPoint.clockwise){this.originRotation=this.originRotation<=0?360+this.originRotation:this.originRotation,this.targetRotation=this.originRotation-90,this.posTarget.x>this.posSrc.x&&this.posTarget.z<this.posSrc.z||this.posTarget.x<this.posSrc.x&&this.posTarget.z>this.posSrc.z?this.circleCenterPoint=new l(this.posTarget.x,0,this.posSrc.z):this.circleCenterPoint=new l(this.posSrc.x,0,this.posTarget.z);var t=l.subtract(new l,this.circleCenterPoint,this.posSrc).length();this.quarter=90/(Math.PI*t/2)}else{this.originRotation=this.originRotation>=360?this.originRotation-360:this.originRotation,this.targetRotation=this.originRotation+90,this.posTarget.x>this.posSrc.x&&this.posTarget.z<this.posSrc.z||this.posTarget.x<this.posSrc.x&&this.posTarget.z>this.posSrc.z?this.circleCenterPoint=new l(this.posSrc.x,0,this.posTarget.z):this.circleCenterPoint=new l(this.posTarget.x,0,this.posSrc.z);var i=l.subtract(new l,this.circleCenterPoint,this.posSrc).length();this.quarter=90/(Math.PI*i/2)}this.node.eulerAngles=new l(0,this.originRotation,0)}}else this.curRoadPoint=null,this._callback&&this._callback(this)},h.update=function(t){if(this.nodeInvincible&&(this.invincibleRotation+=200*t,this.invincibleRotation>360&&(this.invincibleRotation-=360),this.nodeInvincible.eulerAngles=new l(this.invincibleRotation,0,0)),this.tootingCoolTime>0&&(this.tootingCoolTime=this.tootingCoolTime>t?this.tootingCoolTime-t:0),!this.isMoving&&this.currentSpeed<.01||this.posTarget.equals(l.ZERO)||this.isHosting||this.isOver)this.isCarMoving=!1;else{if(this.isCarMoving=!0,this.currentSpeed+=this.accelerate*t,this.currentSpeed=this.currentSpeed>this.maxSpeed?this.maxSpeed:this.currentSpeed,this.currentSpeed<this.minSpeed&&(this.currentSpeed=this.minSpeed,this.isBraking&&(f.dispatchEvent("endBraking"),this.isBraking=!1)),this.arrTyres.length>0){this.curTyreRotation-=200*this.currentSpeed,this.curTyreRotation<-360&&(this.curTyreRotation+=360);for(var i=new l(this.curTyreRotation,0),e=0;e<this.arrTyres.length;e++){this.arrTyres[e].eulerAngles=i}}switch(this.curRoadPoint.moveType){case P.ROAD_MOVE_TYPE.LINE:var s=new l;l.subtract(s,this.posTarget,this.node.worldPosition),s.normalize(),l.multiplyScalar(s,s,this.currentSpeed);var n=this.node.worldPosition;s.add(n),this.posTarget.z!==this.posSrc.z?this.posTarget.z<this.posSrc.z?(this.node.eulerAngles=new l(0,360,0),s.z<this.posTarget.z&&(s.z=this.posTarget.z)):(this.node.eulerAngles=new l(0,180,0),s.z>this.posTarget.z&&(s.z=this.posTarget.z)):this.posTarget.x>this.posSrc.x?(this.node.eulerAngles=new l(0,270,0),s.x>this.posTarget.x&&(s.x=this.posTarget.x)):(this.node.eulerAngles=new l(0,90,0),s.x<this.posTarget.x&&(s.x=this.posTarget.x)),this.node.setWorldPosition(s);break;case P.ROAD_MOVE_TYPE.BEND:var o=this.targetRotation-this.originRotation,r=this.node.eulerAngles.y<0?360+this.node.eulerAngles.y:this.node.eulerAngles.y;this.node.eulerAngles.y>360&&(r=this.node.eulerAngles.y-360);var h=o*Math.abs((r-this.originRotation)/o)+this.currentSpeed*this.quarter*(this.targetRotation>this.originRotation?1:-1);Math.abs(o)<Math.abs(h)&&(h=o);var a=this.originRotation+h,c=l.rotateY(new l,this.posSrc,this.circleCenterPoint,h*Math.PI/180);this.node.setWorldPosition(c),this.node.eulerAngles=new l(0,a,0)}l.subtract(new l,this.posTarget,this.node.worldPosition).lengthSqr()<.001&&this.arrivalPoint()}},h.moveAfterFinished=function(){this.isMoving=!0,this.minSpeed=.2,this.maxSpeed=.2,this.startRunning()},h.tooting=function(){if(!(this.tootingCoolTime>0)){this.tootingCoolTime=5;var t=1===Math.floor(2*Math.random())?C.AUDIO_SOUND.TOOTING1:C.AUDIO_SOUND.TOOTING2;m.instance.playSound(t)}},r(i,[{key:"isMoving",get:function(){return this._isMoving},set:function(t){this._isMoving=t,this.updateBackLight()}},{key:"isHosting",get:function(){return this._isHosting},set:function(t){this._isHosting=t,this.updateBackLight()}},{key:"isInvincible",get:function(){return this._isInvincible},set:function(t){var i=this;if(this._isInvincible=t,t){if(this.nodeInvincible)return void(this.nodeInvincible.active=!0);T.getEffect("shield",(function(t,e){t?console.error(t):(i.nodeInvincible=v(e),i.nodeInvincible.parent=i.node)}))}else this.nodeInvincible&&(this.nodeInvincible.destroy(),this.nodeInvincible=null)}}]),i}(R)).prototype,"maxSpeed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),I=i(O.prototype,"minSpeed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),x=i(O.prototype,"nodeGas",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=O))||M));h._RF.pop()}}}));

System.register("chunks:///_virtual/invincible.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./resourceUtil.ts","./constant.ts","./poolManager.ts","./localConfig.ts","./playerData.ts","./uiManager.ts","./gameLogic.ts"],(function(n){"use strict";var t,e,i,r,o,c,a,l,u,s,p,f,g,h,C,b,d,v,y;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,r=n.assertThisInitialized,o=n.defineProperty},function(n){c=n.cclegacy,a=n._decorator,l=n.Node,u=n.Widget,s=n.Sprite,p=n.Component},function(n){f=n.clientEvent},function(n){g=n.resourceUtil},function(n){h=n.constant},function(n){C=n.poolManager},function(n){b=n.localConfig},function(n){d=n.playerData},function(n){v=n.uiManager},function(n){y=n.gameLogic}],execute:function(){var I,m,w,N,_,k,B,D,E;c._RF.push({},"ec04bogempOHrQhVVHVqSZV","invincible",void 0);var M=a.ccclass,L=a.property;n("invincible",(I=M("invincible"),m=L(l),w=L(u),N=L(s),I((B=t((k=function(n){function t(){for(var t,e=arguments.length,c=new Array(e),a=0;a<e;a++)c[a]=arguments[a];return t=n.call.apply(n,[this].concat(c))||this,i(r(t),"nodeCarParent",B,r(t)),i(r(t),"wgMenu",D,r(t)),i(r(t),"spIcon",E,r(t)),o(r(t),"_callback",void 0),o(r(t),"currentCar",null),t}e(t,n);var c=t.prototype;return c.start=function(){},c.show=function(n){var t=this;this._callback=n,y.updateRewardIcon(h.SHARE_FUNCTION.INVINCIBLE,this.spIcon,(function(n,t){})),this.currentCar&&(C.instance.putNode(this.currentCar),this.currentCar=null);var e=b.instance.queryByID("car",d.instance.showCar.toString());g.getUICar(e.model,(function(n,i){n?console.error(n,e.model):t.currentCar=C.instance.getNode(i,t.nodeCarParent)}))},c.onBtnCloseClick=function(){v.instance.hideDialog("main/invincible"),this._callback&&this._callback()},c.onBtnOKClick=function(){var n=this;y.openReward(h.SHARE_FUNCTION.INVINCIBLE,(function(t,e){t||(f.dispatchEvent("showInvincible"),n.onBtnCloseClick())}))},t}(p)).prototype,"nodeCarParent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(k.prototype,"wgMenu",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(k.prototype,"spIcon",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=k))||_));c._RF.pop()}}}));

System.register("chunks:///_virtual/btnAdapter.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./audioManager.ts"],(function(e){"use strict";var t,n,i,r,o,a,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Button,l=e.Component},function(e){u=e.audioManager}],execute:function(){var p,s,d,b,f,y,m,v,h,k,S,g,P;o._RF.push({},"f130br9GwZGkJEkRGonhXxR","btnAdapter",void 0);var w=a.ccclass,C=a.property,z=a.menu,A=a.requireComponent,_=a.disallowMultiple;e("btnAdapter",(p=w("btnAdapter"),s=z("自定义组件/btnAdapter"),d=A(c),b=C({tooltip:"点击后是否播放点击音效"}),f=C({tooltip:"点击音效名"}),y=C({tooltip:"是否禁止快速二次点击"}),m=C({tooltip:"点击后多久才能再次点击,仅isPreventSecondClick为true生效"}),p(v=s(v=d(v=_((k=t((h=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(r(t),"isPlaySound",k,r(t)),i(r(t),"clickSoundName",S,r(t)),i(r(t),"isPreventSecondClick",g,r(t)),i(r(t),"preventTime",P,r(t)),t}return n(t,e),t.prototype.start=function(){var e=this,t=this.node.getComponent(c);this.node.on("click",(function(){e.isPreventSecondClick&&(t.interactable=!1,e.scheduleOnce((function(){t.node&&(t.interactable=!0)}),e.preventTime)),e.isPlaySound&&u.instance.playSound(e.clickSoundName,!1)}))},t}(l)).prototype,"isPlaySound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=t(h.prototype,"clickSoundName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"click"}}),g=t(h.prototype,"isPreventSecondClick",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=t(h.prototype,"preventTime",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),v=h))||v)||v)||v)||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/util.ts",["cc"],(function(t){"use strict";var r,e;return{setters:[function(t){r=t.cclegacy,e=t._decorator}],execute:function(){var n;r._RF.push({},"f1bcdp9t1BPdo0rL87xRyba","util",void 0);var o=e.ccclass;e.property,t("util",o("util")(n=function(){function t(){}return t.clone=function(t){if(null===t||"object"!=typeof t)return t;var r={};for(var e in t.constructor===Array&&(r=[]),t)t.hasOwnProperty(e)&&(r[e]=this.clone(t[e]));return r},t.objectToArray=function(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(t[e]);return r},t.arrayToObject=function(t,r){var e={};for(var n in t)t.hasOwnProperty(n)&&t[n][r]&&(e[t[n][r]]=t[n]);return e},t.getWeightRandIndex=function(t,r){for(var e=Math.floor(Math.random()*r),n=0,o=0;o<t.length&&!(e<(n+=t[o]));o++);return o},t.getRandomNFromM=function(t,r){for(var e=[],n=0,o=0;o<r&&!(o>=t+1);){n=this.getRandomInt(0,t);for(var a=0,u=0;u<o;u++)if(e[u]===n){a=1;break}0===a&&(e[o]=n,o++)}return e},t.getRandomInt=function(t,r){var e=Math.random()*(r-t+1)+t;return Math.floor(e)},t.getStringLength=function(t){for(var r=t,e=0,n=0,o=r.length;n<o;n++){e+=r.charCodeAt(n)<=255?1:2}return Math.ceil(e/2)},t.isEmptyObject=function(t){var r=!0;if(t&&t.constructor===Object){for(var e in t)if(t.hasOwnProperty(e)){r=!1;break}}else r=!1;return r},t.formatNum=function(t){if(t<=0)return"0";var r=Math.round(Math.log(t)/Math.log(1e3));return parseInt((t/Math.pow(1e3,r-1<0?0:r-1)).toString(),10)+["","","K","M","B"][r]},t.isNewDay=function(t){var r=new Date(t),e=new Date,n=r.getFullYear(),o=r.getMonth(),a=r.getDate(),u=e.getFullYear(),i=e.getMonth(),f=e.getDate();return u>n||(i>o||f>a)},t.getPropertyCount=function(t){var r,e=0;for(r in t)t.hasOwnProperty(r)&&e++;return e},t.difference=function(t,r){var e=[];if(t.constructor!==Array||r.constructor!==Array)return e;for(var n=t.length,o=0;o<n;o++)-1===r.indexOf(t[o])&&e.push(t[o]);return e},t.simulationUUID=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t.trim=function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},t.isNowValid=function(t,r){var e=new Date(t),n=new Date(r),o=!1;if(e.getDate()+""!="NaN"&&n.getDate()+""!="NaN"){var a=new Date;o=a<n&&a>e}return o},t.getDeltaDays=function(t,r){var e=new Date(t),n=new Date(r),o=e.getFullYear(),a=e.getMonth()+1,u=e.getDate(),i=n.getFullYear(),f=n.getMonth()+1,c=n.getDate();t=new Date(o+"/"+a+"/"+u+" GMT+0800").getTime();var g=(r=new Date(i+"/"+f+"/"+c+" GMT+0800").getTime())-t;return Math.floor(g/864e5)},t.getMin=function(t){var r=0;if(t.constructor===Array)for(var e=t.length,n=0;n<e;n++)r=0===n?Number(t[0]):r>Number(t[n])?Number(t[n]):r;return r},t.formatTwoDigits=function(t){return(Array(2).join("0")+t).slice(-2)},t.formatDate=function(t,r){var e={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(r)&&(r=r.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+n+")").test(r)&&(r=r.replace(RegExp.$1,1===RegExp.$1.length?""+e[n]:("00"+e[n]).substr((""+e[n]).length)));return r},t.getDay=function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},t.formatMoney=function(t){for(var r=["","K","M","G","T","P","E","Z","Y","B","N","D"],e="",n=0;n<r.length;n++){if(!(t>=1e4)){e=Math.floor(t)+r[n];break}t/=1e3}return""===e&&(e=Math.floor(t)+"U"),e},t.formatTimeForSecond=function(t){var r="",e=t%60,n=Math.floor(t/60);n=n<0?0:n;var o=Math.floor(n/60),a=n%60;return o>0&&(r+=o>9?o.toString():"0"+o,r+=":"),r+=a>9?a.toString():"0"+a,r+=":",r+=e>9?e.toString():"0"+e},t.formatTimeForMillisecond=function(t){var r=Math.floor(t/1e3%60),e=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3/60/60);return(r<10?"0"+r:r)+":"+(e<10?"0"+e:e)+":"+(n<10?"0"+n:n)},t.zip=function(t){var r=pako.gzip(encodeURIComponent(t),{to:"string"});return this.base64encode(r)},t.rand=function(t){for(var r=this.clone(t),e=r.length-1;e>=0;e--){var n=Math.floor(Math.random()*(e+1)),o=r[n];r[n]=r[e],r[e]=o}return r},t}())||n);r._RF.pop()}}}));

System.register("chunks:///_virtual/fightManager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./fightConstants.ts","./clientEvent.ts","./resourceUtil.ts","./playerData.ts","./carManager.ts","./uiManager.ts","./LanguageData.ts","./fightMap.ts","./customerManager.ts","./effectManager.ts","./fightCanvas.ts"],(function(e){"use strict";var t,a,n,i,r,o,s,c,l,h,u,f,g,v,p,d,M,m,y,L,C,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.defineProperty},function(e){o=e.cclegacy,s=e._decorator,c=e.Node,l=e.Collider,h=e.instantiate,u=e.Component},function(e){f=e.fightConstants},function(e){g=e.clientEvent},function(e){v=e.resourceUtil},function(e){p=e.playerData},function(e){d=e.carManager},function(e){M=e.uiManager},function(e){m=e.i18n},function(e){y=e.fightMap},function(e){L=e.customerManager},function(e){C=e.effectManager},function(e){b=e.fightCanvas}],execute:function(){var w,I,O,G,D,U,k,P,z,E,F,R,_,N,S;o._RF.push({},"f3d36qkNslPB4TIGcZlp8vd","fightManager",void 0);var T=s.ccclass,A=s.property;e("fightManager",(w=T("fightManager"),I=A(b),O=A({type:y}),G=A({type:L}),D=A({type:d}),U=A({type:C}),k=A({type:c,displayName:"地面"}),w((E=t((z=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(i(t),"fightLoading",E,i(t)),n(i(t),"mapManager",F,i(t)),n(i(t),"customerManager",R,i(t)),n(i(t),"carManager",_,i(t)),n(i(t),"effectManager",N,i(t)),n(i(t),"nodeGround",S,i(t)),r(i(t),"isStart",!1),r(i(t),"isOver",!1),r(i(t),"isFinishedLevel",!1),r(i(t),"money",0),r(i(t),"curLevel",0),r(i(t),"hasRevive",!1),t}a(t,e);var o=t.prototype;return o.start=function(){var e=this;this.initGround(),this.loadMap((function(){e.initCar(),e.loadCar()}))},o.onEnable=function(){g.on("startGame",this.startGame,this),g.on("takeCustomer",this.onTakeCustomer,this),g.on("gameOver",this.gameOver,this),g.on("newLevel",this.newLevel,this),g.on("updateCar",this.updateMainCar,this),g.on("revive",this.revive,this)},o.onDisable=function(){g.off("startGame",this.startGame,this),g.off("takeCustomer",this.onTakeCustomer,this),g.off("gameOver",this.gameOver,this),g.off("newLevel",this.newLevel,this),g.off("updateCar",this.updateMainCar,this),g.off("revive",this.revive,this)},o.initGround=function(){var e=this.nodeGround.getComponent(l);e.setGroup(f.CAR_GROUP.NORMAL),e.setMask(-1)},o.loadMap=function(e){var t=this,a=1;p.instance.playerInfo&&(console.log("###playerData.instance.playerInfo.realLevel;",p.instance.playerInfo.realLevel),a=p.instance.playerInfo.passCheckPoint?p.instance.playerInfo.realLevel||a:p.instance.playerInfo.level||a,console.log("###level",a)),this.curLevel=a,console.log("load level "+this.curLevel);var n=this.curLevel>100?this.curLevel:this.curLevel+100;g.dispatchEvent("updateLoading",4,m.t("fightManager.loadingMap")),v.getMap(n,(function(a,n){a?console.error(a):(g.dispatchEvent("updateLoading",10,m.t("fightManager.buildingCity")),t.mapManager.buildMap(n,(function(){}),(function(){g.dispatchEvent("updateLoading",6,m.t("fightManager.cityLoadOver")),e&&e()})))}))},o.initCar=function(){this.carManager.init(this.mapManager,this.customerManager)},o.reset=function(){this.carManager.reset(),this.customerManager.reset(),this.effectManager.reset(),this.isStart=!1,this.isOver=!1,this.isFinishedLevel=!1,this.money=0,this.hasRevive=!1,this.loadCar()},o.loadCar=function(){var e=this;this.carManager.preloadAICar((function(){e.fightLoading.finishLoading(),e.showMainUI()}))},o.startGame=function(){this.isStart||(this.isStart=!0,this.carManager.startGame(),this.showFightUI())},o.gameOver=function(e){this.isOver||(this.isFinishedLevel=e,this.isOver=!0,this.carManager.gameOver(),this.showBalanceUI())},o.onTakeCustomer=function(){var e=this,t=Math.floor(30+this.curLevel/2+Math.floor(10*Math.random()));this.money+=t,g.dispatchEvent("makeMoney",t),v.getEffect("coin",(function(t,a){t&&console.error(t);var n=h(a);n.parent=e.node,e.carManager.mainCar&&n.setWorldPosition(e.carManager.mainCar.node.getWorldPosition()),e.scheduleOnce((function(){n.destroy()}),2)}))},o.showMainUI=function(){M.instance.showDialog("main/mainUI")},o.showFightUI=function(){M.instance.hideDialog("main/mainUI"),M.instance.showDialog("fight/fightUI",[this])},o.showBalanceUI=function(){var e=this.carManager.getCurrentProgress();M.instance.showDialog("fight/balance",[p.instance.playerInfo.level,e.cur,e.isOver,this.mapManager.levelProgressCnt,this.money,this.isFinishedLevel])},o.newLevel=function(e){var t=this;this.fightLoading.loadNewLevel(),M.instance.hideDialog("fight/fightUI"),this.hasRevive=!1,e?(this.mapManager.recycle(),this.loadMap((function(){t.reset()}))):this.reset()},o.updateMainCar=function(){this.carManager.creatMainCar()},o.revive=function(){this.carManager.revive()},t}(u)).prototype,"fightLoading",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(z.prototype,"mapManager",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(z.prototype,"customerManager",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(z.prototype,"carManager",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(z.prototype,"effectManager",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(z.prototype,"nodeGround",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=z))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/fightUI.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./clientEvent.ts","./resourceUtil.ts","./localConfig.ts","./playerData.ts","./LanguageData.ts"],(function(e){"use strict";var i,t,n,r,o,a,s,l,u,h,g,p,c,f,m,d,b,w;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.defineProperty},function(e){a=e.cclegacy,s=e._decorator,l=e.Sprite,u=e.Label,h=e.Node,g=e.SpriteFrame,p=e.Animation,c=e.Component},function(e){f=e.clientEvent},function(e){m=e.resourceUtil},function(e){d=e.localConfig},function(e){b=e.playerData},function(e){w=e.i18n}],execute:function(){var v,y,M,C,T,k,G,z,F,L,P,S,E,I,U,A,D,N,H,O,_,R,B,V,j,x,Z,q,J,K,Q,W,X,Y,$,ee,ie,te,ne,re,oe,ae,se,le,ue;a._RF.push({},"fb9b7V8bZND35IgNyATVMNv","fightUI",void 0);var he=s.ccclass,ge=s.property;e("fightUI",(v=he("fightUI"),y=ge(l),M=ge(l),C=ge({type:u}),T=ge({type:u}),k=ge({type:h,displayName:"进度项"}),G=ge(h),z=ge(u),F=ge(u),L=ge(l),P=ge(g),S=ge(g),E=ge(g),I=ge(g),U=ge(g),A=ge(p),D=ge(h),N=ge(l),H=ge(g),O=ge(g),_=ge(g),R=ge(g),v((j=i((V=function(e){function i(){var i;return i=e.call(this)||this,n(r(i),"spStart",j,r(i)),n(r(i),"spEnd",x,r(i)),n(r(i),"curLevel",Z,r(i)),n(r(i),"targetLevel",q,r(i)),n(r(i),"progress",J,r(i)),n(r(i),"nodeTalk",K,r(i)),n(r(i),"lbTalk",Q,r(i)),n(r(i),"lbMake",W,r(i)),n(r(i),"spHead",X,r(i)),n(r(i),"imgLevelFinished",Y,r(i)),n(r(i),"imgLevelUnfinished",$,r(i)),n(r(i),"imgProgressNoActive",ee,r(i)),n(r(i),"imgProgressActive",ie,r(i)),n(r(i),"imgProgressFinished",te,r(i)),n(r(i),"aniMakeMoney",ne,r(i)),n(r(i),"nodeGuide",re,r(i)),o(r(i),"fightManager",null),o(r(i),"carManager",null),n(r(i),"spShowGuideTip",oe,r(i)),n(r(i),"img01",ae,r(i)),n(r(i),"img02",se,r(i)),n(r(i),"img01En",le,r(i)),n(r(i),"img02En",ue,r(i)),o(r(i),"isShowGuide",!1),o(r(i),"showGuideTime",0),i}t(i,e);var a=i.prototype;return a.start=function(){},a.onEnable=function(){f.on("greetingCustomer",this.updateCarProgress,this),f.on("takeCustomer",this.updateCarProgress,this),f.on("gameOver",this.updateCarProgress,this),f.on("showTalk",this.showCustomerTalk,this),f.on("makeMoney",this.onMakeMoney,this),f.on("showGuide",this.showGuide,this)},a.onDisable=function(){f.off("greetingCustomer",this.updateCarProgress,this),f.off("takeCustomer",this.updateCarProgress,this),f.off("gameOver",this.updateCarProgress,this),f.off("showTalk",this.showCustomerTalk,this),f.off("makeMoney",this.onMakeMoney,this),f.off("showGuide",this.showGuide,this)},a.onTouchStart=function(){this.nodeGuide.getComponent(p).stop(),this.nodeGuide.active=!1},a.show=function(e){this.fightManager=e,this.carManager=this.fightManager.carManager,this.refreshUI(),this.carManager.mainCar.isMoving||this.showGuide(!0)},a.showGuide=function(e){this.nodeGuide.active=e;var i=this.nodeGuide.getComponent(p);e?i.play():i.stop(),e?(this.isShowGuide=!0,this.showGuideTime=0,i.getState("showGuide").setTime(0)):(this.isShowGuide=!1,this.showGuideTime=0)},a.onBtnAgainClick=function(){f.dispatchEvent("newLevel",!1)},a.onBtnChangeCameraRotation=function(){this.carManager.changeCameraFollowRotation()},a.refreshUI=function(){for(var e=this.fightManager.mapManager.levelProgressCnt,i=0;i<e;i++)this.progress[i].active=!0,this.progress[i].getComponent(l).spriteFrame=this.imgProgressNoActive;for(var t=e;t<this.progress.length;t++)this.progress[t].active=!1;var n=b.instance.playerInfo?b.instance.playerInfo.level:1;this.curLevel.string=""+n,this.targetLevel.string=""+(n+1),this.spStart.spriteFrame=this.imgLevelFinished,this.spEnd.spriteFrame=this.imgLevelUnfinished},a.updateCarProgress=function(){for(var e=this.carManager.getCurrentProgress(),i=e.cur,t=e.isOver?i:i-1,n=0;n<t;n++)this.progress[n].getComponent(l).spriteFrame=this.imgProgressFinished;e.isOver||(this.progress[t].getComponent(l).spriteFrame=this.imgProgressActive),this.fightManager.isFinishedLevel&&(this.spEnd.spriteFrame=this.imgLevelFinished)},a.showCustomerTalk=function(e,i){var t=this,n=d.instance.getTableArr("talk"),r=[];n.forEach((function(e){e.type===i&&r.push(e)}));var o=Math.floor(Math.random()*r.length),a=r[o];this.lbTalk.string=w.t("talk."+a.content),m.setCustomerIcon(e,this.spHead,(function(){})),this.nodeTalk.active=!0,this.nodeTalk.getComponent(p).play(),this.scheduleOnce((function(){t.nodeTalk.active=!1}),4)},a.onMakeMoney=function(e){var i=this;this.aniMakeMoney.node.active=!0,this.lbMake.string="+"+e,this.aniMakeMoney.play(),this.aniMakeMoney.once(p.EventType.FINISHED,(function(){i.aniMakeMoney.node.active=!1}),this)},a.update=function(e){this.isShowGuide&&(0===Math.floor(this.showGuideTime)&&("zh"===window.i18nConfig.curLang?this.spShowGuideTip.spriteFrame=this.img01:"en"===window.i18nConfig.curLang&&(this.spShowGuideTip.spriteFrame=this.img01En)),this.showGuideTime+=e,1===Math.floor(this.showGuideTime)?"zh"===window.i18nConfig.curLang?this.spShowGuideTip.spriteFrame=this.img02:"en"===window.i18nConfig.curLang&&(this.spShowGuideTip.spriteFrame=this.img02En):2===Math.floor(this.showGuideTime)&&("zh"===window.i18nConfig.curLang?this.spShowGuideTip.spriteFrame=this.img01:"en"===window.i18nConfig.curLang&&(this.spShowGuideTip.spriteFrame=this.img01En),this.showGuideTime=0))},i}(c)).prototype,"spStart",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(V.prototype,"spEnd",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(V.prototype,"curLevel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(V.prototype,"targetLevel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(V.prototype,"progress",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=i(V.prototype,"nodeTalk",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(V.prototype,"lbTalk",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(V.prototype,"lbMake",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(V.prototype,"spHead",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(V.prototype,"imgLevelFinished",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(V.prototype,"imgLevelUnfinished",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=i(V.prototype,"imgProgressNoActive",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=i(V.prototype,"imgProgressActive",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=i(V.prototype,"imgProgressFinished",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=i(V.prototype,"aniMakeMoney",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=i(V.prototype,"nodeGuide",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=i(V.prototype,"spShowGuideTip",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=i(V.prototype,"img01",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=i(V.prototype,"img02",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=i(V.prototype,"img01En",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=i(V.prototype,"img02En",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=V))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/follow.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(o){"use strict";var t,e,i,r,l,n,s,a,f,w;return{setters:[function(o){t=o.applyDecoratedDescriptor,e=o.inheritsLoose,i=o.initializerDefineProperty,r=o.assertThisInitialized,l=o.defineProperty},function(o){n=o.cclegacy,s=o._decorator,a=o.Node,f=o.Vec3,w=o.Component}],execute:function(){var u,h,c,d,p,g,y;n._RF.push({},"ff8ee6OQldPNLrgLpXROotm","follow",void 0);var P=s.ccclass,v=s.property;o("follow",(u=P("follow"),h=v({type:a}),u((p=t((d=function(o){function t(){var t;return t=o.call(this)||this,i(r(t),"followTarget",p,r(t)),i(r(t),"isFollowRotation",g,r(t)),i(r(t),"offset",y,r(t)),l(r(t),"moveSpeed",3),l(r(t),"isPlayingStart",!1),t}e(t,o);var n=t.prototype;return n.start=function(){},n.showStart=function(){},n.lateUpdate=function(o){if(this.followTarget){var t=this.node.worldPosition;if(this.isPlayingStart){var e=new f(this.followTarget.worldPosition.x+this.offset.x,this.followTarget.worldPosition.y+this.offset.y,this.followTarget.worldPosition.z+this.offset.z);f.subtract(new f,t,e).length()>.001&&f.lerp(e,t,e,this.moveSpeed*o),this.node.setWorldPosition(e),this.node.lookAt(this.followTarget.worldPosition,new f(0,1,0))}else{var i=this.offset;this.isFollowRotation&&(i=f.transformQuat(new f,this.offset,this.followTarget.rotation));var r=new f(this.followTarget.worldPosition.x+i.x,this.followTarget.worldPosition.y+i.y,this.followTarget.worldPosition.z+i.z);if(this.node.setWorldPosition(r),this.node.lookAt(this.followTarget.worldPosition,new f(0,1,0)),this.isFollowRotation){var l=new f(this.node.eulerAngles);l.y=this.followTarget.eulerAngles.y,this.node.eulerAngles=l}}}},t}(w)).prototype,"followTarget",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(d.prototype,"isFollowRotation",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=t(d.prototype,"offset",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f}}),c=d))||c));n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./configuration.ts","./fightConstants.ts","./oneToMultiListener.ts","./clientEvent.ts","./resourceUtil.ts","./audioManager.ts","./constant.ts","./poolManager.ts","./car.ts","./follow.ts","./roadPoint.ts","./util.ts","./csvManager.ts","./localConfig.ts","./playerData.ts","./carManager.ts","./eventListener.ts","./tips.ts","./uiManager.ts","./shopItem.ts","./shopPage.ts","./flyRewardItem.ts","./flyReward.ts","./gameLogic.ts","./polyglot.min.ts","./LanguageData.ts","./shop.ts","./fightMap.ts","./SpriteFrameSet.ts","./LocalizedSprite.ts","./online.ts","./zh.ts","./updateValueLabel.ts","./setting.ts","./customerManager.ts","./onlineDouble.ts","./trial.ts","./mainUI.ts","./showReward.ts","./clickBox.ts","./signInItem.ts","./lodash.ts","./lotteryItem.ts","./revive.ts","./blockInputEvent.ts","./GameRoot.ts","./loading.ts","./signIn.ts","./balance.ts","./en.ts","./LocalizedLabel.ts","./main.ts","./effectManager.ts","./lottery.ts","./fightCanvas.ts","./invincible.ts","./btnAdapter.ts","./fightManager.ts","./fightUI.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});